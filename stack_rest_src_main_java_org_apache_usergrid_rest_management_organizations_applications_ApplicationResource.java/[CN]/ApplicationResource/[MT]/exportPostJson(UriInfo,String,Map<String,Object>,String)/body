{
  OAuthResponse response=null;
  UUID jobUUID=null;
  String colExport=collection_name;
  Map<String,String> uuidRet=new HashMap<String,String>();
  try {
    if (json.get("properties") == null) {
      throw new NullPointerException();
    }
    json.put("organizationId",organization.getUuid());
    json.put("applicationId",applicationId);
    json.put("collectionName",colExport);
    jobUUID=exportService.schedule(json);
    uuidRet.put("jobUUID",jobUUID.toString());
  }
 catch (  NullPointerException e) {
    return Response.status(SC_BAD_REQUEST).type(JSONPUtils.jsonMediaType(callback)).entity(ServiceResource.wrapWithCallback(e.getMessage(),callback)).build();
  }
catch (  Exception e) {
    OAuthResponse errorMsg=OAuthResponse.errorResponse(SC_INTERNAL_SERVER_ERROR).setErrorDescription(e.getMessage()).buildJSONMessage();
    return Response.status(errorMsg.getResponseStatus()).type(JSONPUtils.jsonMediaType(callback)).entity(ServiceResource.wrapWithCallback(errorMsg.getBody(),callback)).build();
  }
  return Response.status(SC_ACCEPTED).entity(uuidRet).build();
}
