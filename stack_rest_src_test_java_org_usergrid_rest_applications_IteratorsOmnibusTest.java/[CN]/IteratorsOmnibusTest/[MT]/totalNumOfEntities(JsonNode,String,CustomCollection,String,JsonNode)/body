{
  int totalEntitiesContained=0;
  while (correctNode.get("entities") != null) {
    totalEntitiesContained+=correctNode.get("entities").size();
    if (checkedNodes.length != 0) {
      for (int index=0; index < correctNode.get("entities").size(); index++)       assertEquals(correctNode.get("entities").get(index),checkedNodes[0].get("entities").get(index));
      if (checkedNodes[0].get("cursor") != null)       checkedNodes[0]=queryEndpoint.query(checkedQuery,"cursor",checkedNodes[0].get("cursor").toString());
    }
    if (correctNode.get("cursor") != null)     correctNode=queryEndpoint.query(query,"cursor",correctNode.get("cursor").toString());
 else     break;
  }
  return totalEntitiesContained;
}
