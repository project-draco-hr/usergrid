{
  CustomCollection groups=context.application().collection("groups");
  int maxRangeLimit=20;
  long[] index=new long[maxRangeLimit];
  Map actor=hashMap("displayName","Erin");
  Map props=new HashMap();
  props.put("actor",actor);
  Map location=hashMap("latitude",37);
  location.put("longitude",-75);
  props.put("location",location);
  props.put("verb","go");
  props.put("content","bragh");
  for (int i=0; i < 20; i++) {
    String newPath=String.format("/kero" + i);
    props.put("path",newPath);
    props.put("ordinal",i);
    JsonNode activity=groups.create(props);
    index[i]=activity.findValue("created").getLongValue();
  }
  JsonNode node=null;
  for (int consistant=0; consistant < 20; consistant++) {
    String query="select * where location within 20000 of 37,-75 and created >= " + index[7] + " and "+ "created < "+ index[10];
    node=groups.withQuery(query).get();
    assertEquals(3,node.get("entities").size());
    for (int i=3; i > 0; i++)     assertEquals(index[10 - i],node.get("entities").get(i).get("created").getLongValue());
  }
}
