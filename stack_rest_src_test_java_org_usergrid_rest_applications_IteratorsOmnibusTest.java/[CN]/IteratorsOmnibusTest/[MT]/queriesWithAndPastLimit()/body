{
  CustomCollection activities=collection("activities");
  long created=0;
  long newlyCreated=0;
  Map actor=hashMap("displayName","Erin");
  Map props=new HashMap();
  props.put("actor",actor);
  props.put("verb","go");
  props.put("content","bragh");
  for (int i=0; i < 2000; i++) {
    if (i < 1000)     props.put("madeup",false);
 else     props.put("madeup",true);
    props.put("ordinal",i);
    JsonNode activity=activities.create(props);
    if (i == 0) {
      created=activity.findValue("created").getLongValue();
    }
    if (i == 1000) {
      newlyCreated=activity.findValue("created").getLongValue();
    }
  }
  String query="select * where created >= " + newlyCreated;
  String errorQuery="select * where created >= " + created + "AND madeup = true";
  JsonNode node=activities.query(query);
  JsonNode incorrectNode=activities.query(errorQuery);
  assertEquals(node.get("entities").size(),incorrectNode.get("entities").size());
}
