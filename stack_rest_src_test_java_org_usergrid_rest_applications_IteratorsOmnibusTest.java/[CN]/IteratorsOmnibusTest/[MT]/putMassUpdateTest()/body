{
  CustomCollection activities=collection("activities");
  Map<String,?> payload=hashMap("name","Austin");
  Map actor=hashMap("displayName","Erin");
  Map newActor=hashMap("displayName","Bob");
  Map props=new HashMap();
  props.put("actor",actor);
  props.put("verb","go");
  props.put("content","bragh");
  for (int i=0; i < 5; i++) {
    props.put("ordinal",i);
    JsonNode activity=activities.create(props);
  }
  String query="select * ";
  JsonNode node=activities.query(query);
  String uuid=node.get("entities").get(0).get("uuid").getTextValue();
  StringBuilder buf=new StringBuilder(uuid);
  activities.addToUrlEnd(buf);
  props.put("actor",newActor);
  node=activities.put(props);
  node=activities.query(query);
  assertEquals(6,node.get("entities").size());
  query="select * where displayName = 'Bob'";
}
