{
  CustomCollection madeupStuff=collection("imagination");
  Map character=hashMap("WhoHelpedYou","Ruff");
  for (int i=0; i < 1000; i++) {
    character.put("Ordinal",i);
    madeupStuff.create(character);
  }
  String inquisitiveQuery="select * where Ordinal gte 0 and Ordinal lte 2000 or WhoHelpedYou eq 'Ruff' ORDER BY " + "Ordinal asc";
  JsonNode incorrectNode=madeupStuff.query(inquisitiveQuery);
  int totalEntitiesContained=0;
  while (incorrectNode.get("entities") != null) {
    int incrementedBy=0;
    if (incorrectNode.get("entities").size() != 0) {
      totalEntitiesContained+=incorrectNode.get("entities").size();
      incrementedBy=incorrectNode.get("entities").size();
    }
 else {
      assertNull(incorrectNode.get("cursor"));
      break;
    }
    int entityCheck=0;
    for (int index=totalEntitiesContained - incrementedBy; index < totalEntitiesContained; index++) {
      assertEquals(index,incorrectNode.get("entities").get(entityCheck).get("Ordinal").asInt());
      entityCheck++;
    }
    if (incorrectNode.get("cursor").toString() != null) {
      incorrectNode=madeupStuff.query(inquisitiveQuery,"cursor",incorrectNode.get("cursor").toString());
    }
 else     break;
  }
  assertEquals(1000,totalEntitiesContained);
}
