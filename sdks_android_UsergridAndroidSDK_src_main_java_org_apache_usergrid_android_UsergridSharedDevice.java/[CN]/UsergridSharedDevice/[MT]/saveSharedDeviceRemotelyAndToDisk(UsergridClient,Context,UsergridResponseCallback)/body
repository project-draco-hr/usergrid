{
  UsergridDevice sharedDevice=UsergridSharedDevice.getSharedDevice(context);
  String sharedDeviceUUID=sharedDevice.getUuid() != null ? sharedDevice.getUuid() : sharedDevice.getStringProperty("uuid");
  UsergridRequest request=new UsergridRequest(UsergridHttpMethod.PUT,UsergridRequest.APPLICATION_JSON_MEDIA_TYPE,client.clientAppUrl(),null,sharedDevice,client.authForRequests(),"devices",sharedDeviceUUID);
  UsergridAsync.sendRequest(client,request,new UsergridResponseCallback(){
    @Override public void onResponse(    @NotNull UsergridResponse response){
      UsergridEntity responseEntity=response.entity();
      if (response.ok() && responseEntity != null && responseEntity instanceof UsergridDevice) {
        UsergridSharedDevice.sharedDevice=(UsergridDevice)responseEntity;
        UsergridSharedDevice.saveSharedDeviceToDisk(context);
      }
      responseCallback.onResponse(response);
    }
  }
);
}
