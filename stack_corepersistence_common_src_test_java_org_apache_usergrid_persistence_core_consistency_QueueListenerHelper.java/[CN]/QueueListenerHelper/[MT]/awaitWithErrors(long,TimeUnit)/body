{
  if (!successLatch.await(time,timeUnit)) {
    throw new RuntimeException("Timed out while waiting on success latch");
  }
  if (!exceptionLatch.await(time,timeUnit)) {
    throw new RuntimeException("Timed out while waiting on exception latch");
  }
}
