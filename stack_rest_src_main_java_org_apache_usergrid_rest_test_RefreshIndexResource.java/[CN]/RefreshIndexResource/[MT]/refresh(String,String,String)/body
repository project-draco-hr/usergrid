{
  try {
    Properties props=management.getProperties();
    String testProp=(String)props.get("usergrid.test");
    if (testProp == null || !Boolean.parseBoolean(testProp)) {
      throw new UnsupportedOperationException();
    }
    getEntityIndex().refreshAsync().toBlocking().first();
  }
 catch (  Exception e) {
    logger.error("Error in refresh",e);
    return Response.serverError().build();
  }
  return Response.ok().build();
}
