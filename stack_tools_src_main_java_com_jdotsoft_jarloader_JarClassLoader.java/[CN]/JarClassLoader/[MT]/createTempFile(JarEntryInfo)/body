{
  if (dirTemp == null) {
    File dir=new File(System.getProperty("java.io.tmpdir"),TMP_SUB_DIRECTORY);
    if (!dir.exists()) {
      dir.mkdir();
    }
    chmod777(dir);
    if (!dir.exists() || !dir.isDirectory()) {
      throw new JarClassLoaderException("Cannot create temp directory " + dir.getAbsolutePath());
    }
    dirTemp=dir;
  }
  File fileTmp=null;
  try {
    fileTmp=File.createTempFile(inf.getName() + ".",null,dirTemp);
    fileTmp.deleteOnExit();
    chmod777(fileTmp);
    byte[] a_by=inf.getJarBytes();
    BufferedOutputStream os=new BufferedOutputStream(new FileOutputStream(fileTmp));
    os.write(a_by);
    os.close();
    return fileTmp;
  }
 catch (  IOException e) {
    throw new JarClassLoaderException(String.format("Cannot create temp file '%s' for %s",fileTmp,inf.jarEntry),e);
  }
}
