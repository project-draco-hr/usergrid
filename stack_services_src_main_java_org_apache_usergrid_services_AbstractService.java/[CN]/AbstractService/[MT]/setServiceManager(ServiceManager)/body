{
  this.sm=sm;
  em=sm.getEntityManager();
  final Injector injector=sm.getApplicationContext().getBean(Injector.class);
  rxScheduler=injector.getInstance(RxTaskScheduler.class).getAsyncIOScheduler();
  rxSchedulerFig=injector.getInstance(RxSchedulerFig.class);
  metricsFactory=injector.getInstance(MetricsFactory.class);
  this.entityGetTimer=metricsFactory.getTimer(this.getClass(),"importEntity.get");
  this.entitiesGetTimer=metricsFactory.getTimer(this.getClass(),"importEntities.get");
  this.entitiesParallelGetTimer=metricsFactory.getTimer(this.getClass(),"importEntitiesP.get");
  this.invokeTimer=metricsFactory.getTimer(this.getClass(),"service.invoke");
  this.cacheFactory=injector.getInstance(CacheFactory.class);
}
