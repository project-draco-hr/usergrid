{
  CustomCollection activities=context.customCollection("activities");
  long created=0;
  Map actor=hashMap("displayName","Erin");
  Map props=new HashMap();
  props.put("actor",actor);
  props.put("verb","go");
  props.put("content","bragh");
  for (int i=0; i < 20; i++) {
    props.put("ordinal",i);
    JsonNode activity=activities.create(props);
    if (i == 5) {
      created=activity.findValue("created").longValue();
    }
  }
  refreshIndex(context.getOrgName(),context.getAppName());
  String query="select * where created > " + created;
  JsonNode node=activities.withQuery(query).get();
  assertEquals(10,node.get("entities").size());
  query=query + " order by created desc";
  node=activities.withQuery(query).get();
  assertEquals(10,node.get("entities").size());
}
