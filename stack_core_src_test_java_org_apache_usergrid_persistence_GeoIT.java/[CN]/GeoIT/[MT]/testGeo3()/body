{
  LOG.info("GeoIT.testGeo3");
  EntityManager em=app.getEntityManager();
  assertNotNull(em);
  Map<String,Object> properties=new LinkedHashMap<String,Object>(){
{
      put("name","norwest");
      put("location",new LinkedHashMap<String,Object>(){
{
          put("latitude",-33.746369);
          put("longitude",150.952183);
        }
      }
);
    }
  }
;
  Entity entity=em.create("store",properties);
  assertNotNull(entity);
  properties=new LinkedHashMap<String,Object>(){
{
      put("name","ashfield");
      put("location",new LinkedHashMap<String,Object>(){
{
          put("latitude",-33.889058);
          put("longitude",151.124024);
        }
      }
);
    }
  }
;
  entity=em.create("store",properties);
  assertNotNull(entity);
  em.refreshIndex();
  Point center=new Point(-33.746369,150.952183);
  Query query=Query.fromQL("select * where location within 10000 of " + center.getLat() + ","+ center.getLon());
  Results listResults=em.searchCollection(em.getApplicationRef(),"stores",query);
  this.dump(listResults);
  assertEquals("Results less than 10000m away from center",1,listResults.size());
  Query query2=Query.fromQL("select * where location within 40000000 of " + center.getLat() + ","+ center.getLon());
  listResults=em.searchCollection(em.getApplicationRef(),"stores",query2);
  assertEquals("Results from center point to ridiculously far",2,listResults.size());
}
