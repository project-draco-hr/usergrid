{
  LOG.info("GeoIT.testGeo4");
  EntityManager em=app.getEntityManager();
  assertNotNull(em);
  Map<String,Object> properties=new LinkedHashMap<String,Object>(){
{
      put("name","norwest");
      put("location",new LinkedHashMap<String,Object>(){
{
          put("latitude",-33.746369);
          put("longitude",150.952183);
        }
      }
);
    }
  }
;
  Entity entity=em.create("store",properties);
  assertNotNull(entity);
  properties=new LinkedHashMap<String,Object>(){
{
      put("name","ashfield");
      put("location",new LinkedHashMap<String,Object>(){
{
          put("latitude",-33.889058);
          put("longitude",151.124024);
        }
      }
);
    }
  }
;
  entity=em.create("store",properties);
  assertNotNull(entity);
  em.refreshIndex();
  List<Point> points=new ArrayList<Point>();
  points.add(new Point(33.746369,-89));
  points.add(new Point(33.746369,-91));
  points.add(new Point(-1.000000,102.000000));
  points.add(new Point(-90.000000,90.000000));
  points.add(new Point(90,90));
  for (int i=-90; i <= 90; i++) {
    for (int j=-180; j <= 180; j++) {
      points.add(new Point(i,j));
    }
  }
  Iterator<Point> pointIterator=points.iterator();
  for (Point p=pointIterator.next(); pointIterator.hasNext(); p=pointIterator.next()) {
    Query query=Query.fromQL("select * where location within 10000 of " + p.getLat() + ","+ p.getLon());
    Results listResults=em.searchCollection(em.getApplicationRef(),"stores",query);
    this.dump(listResults);
    assertEquals("Results less than 10000m away from center",0,listResults.size());
    query=Query.fromQL("select * where location within 40000000 of " + p.getLat() + ","+ p.getLon());
    listResults=em.searchCollection(em.getApplicationRef(),"stores",query);
    assertEquals("Results from center point to ridiculously far",2,listResults.size());
  }
}
