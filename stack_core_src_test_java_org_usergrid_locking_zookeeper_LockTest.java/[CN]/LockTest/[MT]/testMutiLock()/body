{
  final UUID application=UUID.randomUUID();
  UUID first=UUID.randomUUID();
  UUID last=UUID.randomUUID();
  if (first.toString().compareTo(last.toString()) > 0) {
    UUID interm=first;
    first=last;
    last=interm;
  }
  boolean wasLocked=lockInDifferentThread(application,last);
  Assert.assertEquals(true,wasLocked);
  try {
    manager.lock(application,first,last);
    Assert.fail();
  }
 catch (  UGLockException e) {
  }
  wasLocked=lockInDifferentThread(application,first);
  Assert.assertEquals(true,wasLocked);
}
