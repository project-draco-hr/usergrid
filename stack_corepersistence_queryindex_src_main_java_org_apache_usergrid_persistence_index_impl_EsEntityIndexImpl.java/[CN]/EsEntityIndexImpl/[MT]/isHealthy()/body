{
  try {
    ClusterHealthResponse health=esProvider.getClient().admin().cluster().health(new ClusterHealthRequest()).get();
    if (health.getStatus().equals(ClusterHealthStatus.RED)) {
      return false;
    }
  }
 catch (  Exception ex) {
    logger.error("Error connecting to ElasticSearch",ex);
  }
  return true;
}
