{
  String idString=IndexingUtils.idString(entityId).toLowerCase();
  final TermQueryBuilder tqb=QueryBuilders.termQuery(ENTITYID_ID_FIELDNAME,idString);
  final Timer.Context timeDeleteAllVersions=allVersionsTimer.time();
  final Timer.Context timeDeleteAllVersionsFuture=allVersionsTimerFuture.time();
  final ListenableActionFuture<DeleteByQueryResponse> response=esProvider.getClient().prepareDeleteByQuery(alias.getWriteAlias()).setQuery(tqb).execute();
  response.addListener(new ActionListener<DeleteByQueryResponse>(){
    @Override public void onResponse(    DeleteByQueryResponse response){
      timeDeleteAllVersions.stop();
      logger.debug("Deleted entity {}:{} from all index scopes with response status = {}",entityId.getType(),entityId.getUuid(),response.status().toString());
      checkDeleteByQueryResponse(tqb,response);
    }
    @Override public void onFailure(    Throwable e){
      timeDeleteAllVersions.stop();
      logger.error("Deleted entity {}:{} from all index scopes with error {}",entityId.getType(),entityId.getUuid(),e);
    }
  }
);
  timeDeleteAllVersionsFuture.stop();
  return response;
}
