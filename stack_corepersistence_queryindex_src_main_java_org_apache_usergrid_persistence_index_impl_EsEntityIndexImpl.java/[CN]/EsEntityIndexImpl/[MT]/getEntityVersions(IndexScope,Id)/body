{
  final String context=IndexingUtils.createContextName(scope);
  final SearchTypes searchTypes=SearchTypes.fromTypes(id.getType());
  final QueryBuilder queryBuilder=QueryBuilders.termQuery(IndexingUtils.ENTITY_CONTEXT_FIELDNAME,context);
  final SearchRequestBuilder srb=esProvider.getClient().prepareSearch(alias.getReadAlias()).setTypes(searchTypes.getTypeNames()).setScroll(cursorTimeout + "m").setQuery(queryBuilder);
  final SearchResponse searchResponse;
  try {
    Timer.Context timeEntityIndex=metricsFactory.getTimer(EsEntityIndexImpl.class,"es.entity.index.get.versions.timer").time();
    searchResponse=srb.execute().actionGet();
    timeEntityIndex.stop();
  }
 catch (  Throwable t) {
    logger.error("Unable to communicate with elasticsearch");
    failureMonitor.fail("Unable to execute batch",t);
    throw t;
  }
  failureMonitor.success();
  return parseResults(searchResponse,new Query());
}
