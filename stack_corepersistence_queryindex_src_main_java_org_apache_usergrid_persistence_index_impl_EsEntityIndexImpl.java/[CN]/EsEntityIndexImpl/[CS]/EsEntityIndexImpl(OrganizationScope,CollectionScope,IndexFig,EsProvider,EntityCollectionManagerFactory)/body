{
  ValidationUtils.validateOrganizationScope(orgScope);
  MvccValidationUtils.validateCollectionScope(appScope);
  this.orgScope=orgScope;
  this.appScope=appScope;
  this.client=provider.getClient();
  this.ecmFactory=factory;
  this.indexName=createIndexName(config.getIndexNamePrefix(),orgScope,appScope);
  this.refresh=config.isForcedRefresh();
  this.cursorTimeout=config.getQueryCursorTimeout();
  AdminClient admin=client.admin();
  try {
    admin.indices().prepareCreate(indexName).execute().actionGet();
    log.debug("Created new index: " + indexName);
  }
 catch (  Exception e) {
    if (log.isDebugEnabled()) {
      log.debug("Exception creating index, already exists?",e);
    }
 else {
      log.info(e.getMessage());
    }
  }
}
