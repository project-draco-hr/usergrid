{
  final int maxQueries=10;
  Results results=null;
  int queryCount=0;
  CandidateResults crs=null;
  int newLimit=limit;
  while (queryCount++ < maxQueries) {
    crs=entityIndex.search(indexScope,types,query,newLimit,offset);
    logger.debug("Calling build results with crs {}",crs);
    results=buildResults(indexScope,crs);
    if (crs.isEmpty() || !crs.hasOffset() || results.size() > 0) {
      break;
    }
    newLimit=newLimit - results.size();
    logger.warn("Satisfy query limit {}, new limit {} query count {}",new Object[]{limit,newLimit,queryCount});
  }
  if (results.hasCursor()) {
    moreToLoad=true;
  }
 else {
    moreToLoad=false;
  }
  this.currentResults=results;
}
