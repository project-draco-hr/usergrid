{
  Entity itemEntity=getHeadEntity();
  Map<String,List<UUID>> collectionsByType=new LinkedHashMap<String,List<UUID>>();
  for (  EntityRef owner : owners) {
    MapUtils.addMapList(collectionsByType,owner.getType(),owner.getUuid());
  }
  UUID timestampUuid=newTimeUUID();
  Mutator<ByteBuffer> batch=CountingMutator.createFlushingMutator(cass.getApplicationKeyspace(applicationId),Serializers.be);
  Schema schema=getDefaultSchema();
  for (  Entry<String,List<UUID>> entry : collectionsByType.entrySet()) {
    CollectionInfo collection=schema.getCollection(entry.getKey(),collectionName);
    if ((collection != null) && !collection.getType().equals(headEntity.getType())) {
      continue;
    }
    batchAddToCollections(batch,entry.getKey(),entry.getValue(),collectionName,itemEntity,timestampUuid);
    if (collection.getLinkedCollection() != null) {
      logger.error("Bulk add to collections used on a linked collection, linked connection will not be updated");
    }
  }
  batchExecute(batch,CassandraService.RETRY_COUNT);
  return null;
}
