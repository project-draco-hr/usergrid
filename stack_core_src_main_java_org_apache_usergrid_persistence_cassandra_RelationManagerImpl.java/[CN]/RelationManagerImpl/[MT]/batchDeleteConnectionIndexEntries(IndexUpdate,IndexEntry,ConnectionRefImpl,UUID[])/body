{
  Object property_index_key=key(index_keys[ConnectionRefImpl.ALL],INDEX_CONNECTIONS,entry.getPath(),indexBucketLocator.getBucket(index_keys[ConnectionRefImpl.ALL]));
  Object entity_type_prop_index_key=key(index_keys[ConnectionRefImpl.BY_ENTITY_TYPE],INDEX_CONNECTIONS,entry.getPath(),indexBucketLocator.getBucket(index_keys[ConnectionRefImpl.BY_ENTITY_TYPE]));
  Object connection_type_prop_index_key=key(index_keys[ConnectionRefImpl.BY_CONNECTION_TYPE],INDEX_CONNECTIONS,entry.getPath(),indexBucketLocator.getBucket(index_keys[ConnectionRefImpl.BY_CONNECTION_TYPE]));
  Object connection_type_and_entity_type_prop_index_key=key(index_keys[ConnectionRefImpl.BY_CONNECTION_AND_ENTITY_TYPE],INDEX_CONNECTIONS,entry.getPath(),indexBucketLocator.getBucket(index_keys[ConnectionRefImpl.BY_CONNECTION_AND_ENTITY_TYPE]));
  addDeleteToMutator(indexUpdate.getBatch(),ENTITY_INDEX,property_index_key,entry.getIndexComposite(connection.getConnectedEntityId(),connection.getConnectionType(),connection.getConnectedEntityType()),indexUpdate.getTimestamp());
  addDeleteToMutator(indexUpdate.getBatch(),ENTITY_INDEX,entity_type_prop_index_key,entry.getIndexComposite(connection.getConnectedEntityId(),connection.getConnectionType()),indexUpdate.getTimestamp());
  addDeleteToMutator(indexUpdate.getBatch(),ENTITY_INDEX,connection_type_prop_index_key,entry.getIndexComposite(connection.getConnectedEntityId(),connection.getConnectedEntityType()),indexUpdate.getTimestamp());
  addDeleteToMutator(indexUpdate.getBatch(),ENTITY_INDEX,connection_type_and_entity_type_prop_index_key,entry.getIndexComposite(connection.getConnectedEntityId()),indexUpdate.getTimestamp());
  final UUID entityId=connection.getConnectedEntityId();
  final String bucket=indexBucketLocator.getBucket(entityId);
  Object property_index_key_new=key(index_keys[ConnectionRefImpl.ALL],INDEX_CONNECTIONS,entry.getPath(),bucket);
  Object entity_type_prop_index_key_new=key(index_keys[ConnectionRefImpl.BY_ENTITY_TYPE],INDEX_CONNECTIONS,entry.getPath(),bucket);
  Object connection_type_prop_index_key_new=key(index_keys[ConnectionRefImpl.BY_CONNECTION_TYPE],INDEX_CONNECTIONS,entry.getPath(),bucket);
  Object connection_type_and_entity_type_prop_index_key_new=key(index_keys[ConnectionRefImpl.BY_CONNECTION_AND_ENTITY_TYPE],INDEX_CONNECTIONS,entry.getPath(),bucket);
  addDeleteToMutator(indexUpdate.getBatch(),ENTITY_INDEX,property_index_key_new,entry.getIndexComposite(connection.getConnectedEntityId(),connection.getConnectionType(),connection.getConnectedEntityType()),indexUpdate.getTimestamp());
  addDeleteToMutator(indexUpdate.getBatch(),ENTITY_INDEX,entity_type_prop_index_key_new,entry.getIndexComposite(connection.getConnectedEntityId(),connection.getConnectionType()),indexUpdate.getTimestamp());
  addDeleteToMutator(indexUpdate.getBatch(),ENTITY_INDEX,connection_type_prop_index_key_new,entry.getIndexComposite(connection.getConnectedEntityId(),connection.getConnectedEntityType()),indexUpdate.getTimestamp());
  addDeleteToMutator(indexUpdate.getBatch(),ENTITY_INDEX,connection_type_and_entity_type_prop_index_key_new,entry.getIndexComposite(connection.getConnectedEntityId()),indexUpdate.getTimestamp());
  return indexUpdate.getBatch();
}
