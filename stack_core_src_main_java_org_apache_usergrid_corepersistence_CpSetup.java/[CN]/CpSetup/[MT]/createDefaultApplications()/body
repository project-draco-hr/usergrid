{
  setupSystemKeyspace();
  setupStaticKeyspace();
  ApplicationScope applicationScope=new ApplicationScopeImpl(new SimpleId(CpNamingUtils.SYSTEM_APP_ID,"application"));
  ApplicationEntityIndex applicationEntityIndex=entityIndexFactory.createApplicationEntityIndex(applicationScope);
  applicationEntityIndex.initializeIndex();
  injector.getInstance(DataMigrationManager.class).migrate();
  logger.info("Setting up default applications");
  try {
    emf.initializeApplication(DEFAULT_ORGANIZATION,emf.getDefaultAppId(),DEFAULT_APPLICATION,null);
  }
 catch (  ApplicationAlreadyExistsException ex) {
    logger.warn("Application {}/{} already exists",DEFAULT_ORGANIZATION,DEFAULT_APPLICATION);
  }
catch (  OrganizationAlreadyExistsException oaee) {
    logger.warn("Organization {} already exists",DEFAULT_ORGANIZATION);
  }
  try {
    emf.initializeApplication(DEFAULT_ORGANIZATION,emf.getManagementAppId(),MANAGEMENT_APPLICATION,null);
  }
 catch (  ApplicationAlreadyExistsException ex) {
    logger.warn("Application {}/{} already exists",DEFAULT_ORGANIZATION,MANAGEMENT_APPLICATION);
  }
catch (  OrganizationAlreadyExistsException oaee) {
    logger.warn("Organization {} already exists",DEFAULT_ORGANIZATION);
  }
}
