{
  UserRepo.INSTANCE.load(resource(),access_token);
  UUID userId=UserRepo.INSTANCE.getByUserName("user1");
  reindex("test-organization","test-app");
  UUID testUUID=UUIDUtils.newTimeUUID();
  String testEmail="foo@bar.com";
  Activity activity=new Activity();
  activity.setProperty("email","rod@rodsimpson.com");
  activity.setProperty("verb","POST");
  activity.setProperty("content","Look! more new content");
  ActivityObject actorPost=new ActivityObject();
  actorPost.setDisplayName("Dino");
  actorPost.setUuid(testUUID);
  actorPost.setDynamicProperty("email",testEmail);
  activity.setActor(actorPost);
  ApiResponse response=client.postUserActivity(userId.toString(),activity);
  assertNull("Error was: " + response.getErrorDescription(),response.getError());
  Entity entity=response.getEntities().get(0);
  UUID activityId=entity.getUuid();
  assertNotNull(activityId);
  JsonNode actor=getActor(entity);
  UUID actorId=UUIDUtils.tryGetUUID(actor.get("uuid").textValue());
  assertEquals(testUUID,actorId);
  assertEquals(testEmail,actor.get("email").asText());
}
