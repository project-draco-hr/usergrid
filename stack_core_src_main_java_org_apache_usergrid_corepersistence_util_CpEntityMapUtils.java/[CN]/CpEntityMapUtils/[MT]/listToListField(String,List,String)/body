{
  if (list.isEmpty()) {
    return new ListField(fieldName);
  }
  Object sample=list.get(0);
  if (sample instanceof Map) {
    return new ListField<Entity>(fieldName,processListForField(list,entityType));
  }
 else   if (sample instanceof List) {
    return new ListField<List>(fieldName,processListForField(list,entityType));
  }
 else   if (sample instanceof String) {
    return new ListField<String>(fieldName,(List<String>)list);
  }
 else   if (sample instanceof Boolean) {
    return new ListField<Boolean>(fieldName,(List<Boolean>)list);
  }
 else   if (sample instanceof Integer) {
    return new ListField<Integer>(fieldName,(List<Integer>)list);
  }
 else   if (sample instanceof Double) {
    return new ListField<Double>(fieldName,(List<Double>)list);
  }
 else   if (sample instanceof Long) {
    return new ListField<Long>(fieldName,(List<Long>)list);
  }
 else {
    throw new RuntimeException("Unknown type " + sample.getClass().getName());
  }
}
