{
  for (int i=0; i < numPages; i++) {
    for (    QueueCommand command : commands) {
      queue=command.processQueue(queue);
    }
    List<JsonNode> entries=queue.getNextPage();
    for (int j=0; j < pageSize; j++) {
      JsonNode entry=entries.get(j);
      assertEquals((pageSize * numPages) - (i * pageSize + j) - 1,entry.get("id").asInt());
    }
  }
  JsonNode node=queue.getNextEntry();
  assertNull(node);
}
