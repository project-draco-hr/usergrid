{
  if (str == null) {
    return null;
  }
  StringTokenizer st=new StringTokenizer(str,delimiters);
  int numTokens=st.countTokens();
  List<String> listTokens;
  if (numTokens > 0) {
    listTokens=new ArrayList<String>(numTokens);
    while (st.hasMoreTokens()) {
      String token=st.nextToken();
      if (trimTokens) {
        token=token.trim();
      }
      if (!ignoreEmptyTokens || token.length() > 0) {
        listTokens.add(token);
      }
    }
  }
 else {
    listTokens=new ArrayList<String>();
  }
  return listTokens.toArray(new String[listTokens.size()]);
}
