{
  final String regId=GCMRegistrar.getRegistrationId(context);
  if ("".equals(regId)) {
    GCMRegistrar.register(context,GCM_SENDER_ID);
  }
 else {
    if (GCMRegistrar.isRegisteredOnServer(context)) {
      Log.i("","Already registered with GCM");
    }
 else {
      MainActivity.registerPush(context,regId);
    }
  }
}
