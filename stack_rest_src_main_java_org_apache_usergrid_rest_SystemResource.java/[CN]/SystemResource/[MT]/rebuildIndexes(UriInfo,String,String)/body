{
  final UUID appId=UUIDUtils.tryExtractUUID(applicationIdStr);
  ApiResponse response=createApiResponse();
  response.setAction("rebuild indexes");
  EntityManagerFactory.ProgressObserver po=new EntityManagerFactory.ProgressObserver(){
    @Override public void onProgress(    EntityRef s,    EntityRef t,    String etype){
      logger.info("Indexing from {}:{} to {}:{} edgeType {}",new Object[]{s.getType(),s.getUuid(),t.getType(),t.getUuid(),etype});
    }
  }
;
  EntityManager em=emf.getEntityManager(appId);
  Set<String> collectionNames=em.getApplicationCollections();
  for (  String collectionName : collectionNames) {
    rebuildCollection(appId,collectionName);
  }
  response.setSuccess();
  return new JSONWithPadding(response,callback);
}
