{
  final UUID appId=UUIDUtils.tryExtractUUID(applicationIdStr);
  ApiResponse response=createApiResponse();
  response.setAction("rebuild indexes");
  final EntityManager em=emf.getEntityManager(appId);
  final Set<String> collectionNames=em.getApplicationCollections();
  final Thread rebuild=new Thread(){
    @Override public void run(){
      for (      String collectionName : collectionNames) {
        rebuildCollection(appId,collectionName,delay);
      }
    }
  }
;
  rebuild.setName(String.format("Index rebuild for app %s",appId));
  rebuild.setDaemon(true);
  rebuild.start();
  response.setSuccess();
  return new JSONWithPadding(response,callback);
}
