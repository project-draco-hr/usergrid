{
  Subject currentUser=getSubject();
  if (currentUser == null) {
    return;
  }
  try {
    currentUser.checkPermission(permission);
  }
 catch (  org.apache.shiro.authz.UnauthenticatedException e) {
    logger.error("checkPermission(): Subject is anonymous");
  }
}
