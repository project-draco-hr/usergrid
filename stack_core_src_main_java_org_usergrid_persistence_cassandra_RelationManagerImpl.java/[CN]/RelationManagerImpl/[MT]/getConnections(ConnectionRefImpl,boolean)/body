{
  Keyspace ko=cass.getApplicationKeyspace(applicationId);
  IndexedSlicesQuery<UUID,String,ByteBuffer> q=createIndexedSlicesQuery(ko,ue,se,be);
  q.setColumnFamily(ENTITY_CONNECTIONS.toString());
  q.setColumnNames(ConnectionRefImpl.getColumnNames());
  connection.addIndexExpressionsToQuery(q);
  QueryResult<OrderedRows<UUID,String,ByteBuffer>> r=q.execute();
  OrderedRows<UUID,String,ByteBuffer> rows=r.get();
  List<ConnectionRefImpl> connections=new ArrayList<ConnectionRefImpl>();
  logger.debug("{} indexed connection row(s) retrieved",rows.getCount());
  for (  Row<UUID,String,ByteBuffer> row : rows) {
    UUID entityId=row.getKey();
    logger.debug("Indexed connection {} found",entityId.toString());
    ConnectionRefImpl c=ConnectionRefImpl.loadFromColumns(row.getColumnSlice().getColumns());
    String entityType=c.getConnectedEntityType();
    if (!includeConnectionEntities && TYPE_CONNECTION.equalsIgnoreCase(entityType)) {
      logger.debug("Skipping loopback connection {}",entityId.toString());
      continue;
    }
    connections.add(c);
  }
  logger.debug("Returing {} connection(s)",connections.size());
  return connections;
}
