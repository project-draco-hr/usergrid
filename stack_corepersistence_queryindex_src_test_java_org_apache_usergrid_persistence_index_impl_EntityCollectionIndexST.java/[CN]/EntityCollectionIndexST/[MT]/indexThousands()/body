{
  Id appId=new SimpleId("application");
  Id orgId=new SimpleId("organization");
  CollectionScope scope=new CollectionScopeImpl(appId,orgId,"contacts");
  EntityCollectionIndex index=collectionIndexFactory.createCollectionIndex(scope);
  int limit=10000;
  StopWatch timer=new StopWatch();
  timer.start();
  for (int i=0; i < limit; i++) {
    Entity entity=new Entity(new SimpleId(UUIDGenerator.newTimeUUID(),scope.getName()));
    EntityUtils.setVersion(entity,UUIDGenerator.newTimeUUID());
    entity.setField(new StringField("name",RandomStringUtils.randomAlphabetic(20)));
    index.index(entity);
    if (i % 1000 == 0) {
      log.info("   Indexed: " + i);
    }
  }
  timer.stop();
  log.info("Total time to index {} entries {}ms, average {}ms/entry",limit,timer.getTime(),timer.getTime() / limit);
}
