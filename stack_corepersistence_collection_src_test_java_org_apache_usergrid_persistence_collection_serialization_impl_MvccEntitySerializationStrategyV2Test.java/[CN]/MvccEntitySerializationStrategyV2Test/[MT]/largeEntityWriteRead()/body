{
  final int setSize=65535 * 2;
  SetConfigTestBypass.setValueByPass(serializationFig,"getMaxEntitySize",65535 * 10 + "");
  final Entity entity=EntityHelper.generateEntity(setSize);
  CollectionScope context=new CollectionScopeImpl(new SimpleId("organization"),new SimpleId("parent"),"tests");
  final Id id=entity.getId();
  ValidationUtils.verifyIdentity(id);
  final UUID version=UUIDGenerator.newTimeUUID();
  final MvccEntity.Status status=MvccEntity.Status.COMPLETE;
  final MvccEntity mvccEntity=new MvccEntityImpl(id,version,status,entity);
  getMvccEntitySerializationStrategy().write(context,mvccEntity).execute();
  final Iterator<MvccEntity> loaded=getMvccEntitySerializationStrategy().loadDescendingHistory(context,id,version,100);
  assertTrue(loaded.hasNext());
  final MvccEntity loadedEntity=loaded.next();
  assertLargeEntity(mvccEntity,loadedEntity);
  MvccEntity returned=serializationStrategy.load(context,Collections.singleton(id),version).getEntity(id);
  assertLargeEntity(mvccEntity,returned);
}
