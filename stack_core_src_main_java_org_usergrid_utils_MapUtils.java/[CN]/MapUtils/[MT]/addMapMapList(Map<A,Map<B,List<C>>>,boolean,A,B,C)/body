{
  Map<B,List<C>> map_b=map.get(a);
  if (map_b == null) {
    if (ignore_case && (b instanceof String)) {
      map_b=(Map<B,List<C>>)new TreeMap<String,List<C>>(String.CASE_INSENSITIVE_ORDER);
    }
 else {
      map_b=new LinkedHashMap<B,List<C>>();
    }
    map.put(a,map_b);
  }
  addMapList(map_b,b,c);
}
