{
  Set<B> set_b=map.get(a);
  if (set_b == null) {
    if (ignore_case && (b instanceof String)) {
      set_b=(Set<B>)new TreeSet<String>(String.CASE_INSENSITIVE_ORDER);
    }
 else {
      set_b=new LinkedHashSet<B>();
    }
    map.put(a,set_b);
  }
  set_b.add(b);
}
