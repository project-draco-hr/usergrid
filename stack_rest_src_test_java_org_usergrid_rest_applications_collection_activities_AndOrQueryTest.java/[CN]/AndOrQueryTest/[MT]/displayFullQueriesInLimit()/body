{
  CustomCollection activities=collection("activities");
  Map actor=hashMap("displayName","Erin");
  Map props=new HashMap();
  props.put("actor",actor);
  props.put("content","bragh");
  for (int i=0; i < 20; i++) {
    if (i < 10)     props.put("verb","go");
 else     props.put("verb","stop");
    props.put("ordinal",i);
    JsonNode activity=activities.create(props);
  }
  String query="select * where not verb = 'go'";
  JsonNode node=activities.withQuery("select * where ordinal > 9").get();
  JsonNode incorrectNode=activities.query(query,"limit",Integer.toString(10));
  assertEquals(10,incorrectNode.get("entities").size());
  for (int i=0; i < 10; i++) {
    assertEquals(19 - i,incorrectNode.get("entities").get(i).get("ordinal").getIntValue());
    assertEquals("stop",incorrectNode.get("entities").get(i).get("verb").getTextValue());
  }
}
