{
  logger.error("Error in request (" + status + ")",e);
  ApiResponse response=new ApiResponse();
  AuthErrorInfo authError=AuthErrorInfo.getForException(e);
  if (authError != null) {
    response.setError(authError.getType(),authError.getMessage(),e);
  }
 else {
    response.setError(e);
  }
  response.setValidation(e.getProcessingReport());
  String jsonResponse=mapToJsonString(response);
  return toResponse(status,jsonResponse);
}
