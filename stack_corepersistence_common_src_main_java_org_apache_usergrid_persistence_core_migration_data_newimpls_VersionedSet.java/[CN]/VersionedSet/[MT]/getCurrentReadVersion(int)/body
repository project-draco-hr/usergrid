{
  final MigrationRelationship<T> relationship=cacheVersion.get(currentVersion);
  if (relationship != null) {
    return relationship;
  }
  for (  T current : orderedVersions) {
    if (current.getImplementationVersion() > currentVersion) {
      continue;
    }
    final MigrationRelationship<T> migrationRelationship=new MigrationRelationship<>(current,orderedVersions.get(0));
    cacheVersion.put(currentVersion,migrationRelationship);
    return migrationRelationship;
  }
  throw new IllegalArgumentException("Could not find a migration version for version " + currentVersion + " min found was "+ orderedVersions.get(orderedVersions.size() - 1));
}
