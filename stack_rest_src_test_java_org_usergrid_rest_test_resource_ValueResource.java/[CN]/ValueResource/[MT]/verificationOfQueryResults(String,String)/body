{
  int totalEntitiesContained=0;
  JsonNode correctNode=this.withQuery(query).withLimit("1000").get();
  JsonNode checkedNodes=this.withQuery(checkedQuery).withLimit("1000").get();
  while (correctNode.get("entities") != null) {
    totalEntitiesContained+=correctNode.get("entities").size();
    for (int index=0; index < correctNode.get("entities").size(); index++)     assertEquals(correctNode.get("entities").get(index),checkedNodes.get("entities").get(index));
    if (checkedNodes.get("cursor") != null || correctNode.get("cursor") != null) {
      checkedNodes=this.query(checkedQuery,"cursor",checkedNodes.get("cursor").toString());
      correctNode=this.query(query,"cursor",correctNode.get("cursor").toString());
    }
 else     break;
  }
  return totalEntitiesContained;
}
