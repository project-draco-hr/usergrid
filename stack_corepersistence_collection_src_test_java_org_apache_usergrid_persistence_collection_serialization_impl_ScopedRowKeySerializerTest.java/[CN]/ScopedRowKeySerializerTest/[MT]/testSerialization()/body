{
  final Id testId=new SimpleId("scopeType");
  final String name="scopeName";
  final Id testKey=new SimpleId("testKey");
  final CollectionScope collectionScope=new CollectionScopeImpl(new SimpleId("organization"),testId,name);
  final ScopedRowKey<CollectionScope,Id> rowKey=new ScopedRowKey<CollectionScope,Id>(collectionScope,testKey);
  AbstractCollectionScopedRowKeySerializer<Id> collectionScopedRowKeySerializer=new DefaultCollectionScopedRowKeySerializer(IdRowCompositeSerializer.get());
  ByteBuffer buff=collectionScopedRowKeySerializer.toByteBuffer(rowKey);
  ScopedRowKey<CollectionScope,Id> parsedRowKey=collectionScopedRowKeySerializer.fromByteBuffer(buff);
  assertEquals("Row key serialized correctly",rowKey,parsedRowKey);
}
