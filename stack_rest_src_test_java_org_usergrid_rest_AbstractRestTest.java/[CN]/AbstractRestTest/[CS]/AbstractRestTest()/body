{
  super(new WebAppDescriptor.Builder("org.usergrid.rest").contextParam("contextConfigLocation","classpath:testApplicationContext.xml").servletClass(SpringServlet.class).contextListenerClass(ContextLoaderListener.class).requestListenerClass(RequestContextListener.class).initParam("com.sun.jersey.config.property.packages","org.usergrid.rest").initParam("com.sun.jersey.api.json.POJOMappingFeature","true").initParam("com.sun.jersey.spi.container.ContainerRequestFilters","org.usergrid.rest.filters.MeteringFilter,org.usergrid.rest.security.shiro.filters.OAuth2AccessTokenSecurityFilter,org.usergrid.rest.security.shiro.filters.BasicAuthSecurityFilter").initParam("com.sun.jersey.spi.container.ContainerResponseFilters","org.usergrid.rest.security.CrossOriginRequestFilter,org.usergrid.rest.filters.MeteringFilter").initParam("com.sun.jersey.spi.container.ResourceFilters","org.usergrid.rest.security.SecuredResourceFilterFactory,com.sun.jersey.api.container.filter.RolesAllowedResourceFilterFactory").initParam("com.sun.jersey.config.feature.DisableWADL","true").initParam("com.sun.jersey.config.property.JSPTemplatesBasePath","/WEB-INF/jsp").initParam("com.sun.jersey.config.property.WebPageContentRegex","/(((images|css|js|jsp|WEB-INF/jsp)/.*)|(favicon\\.ico))").addFilter(DelegatingFilterProxy.class,"shiroFilter",MapUtils.hashMap("targetFilterLifecycle","true")).clientConfig(clientConfig).build());
}
