{
  try {
    JsonNode node=resource().path("/test-organization/test-app/token").queryParam("grant_type","password").queryParam("username",username).queryParam("password",password).accept(MediaType.APPLICATION_JSON).get(JsonNode.class);
    if (getError(node) == null) {
      return;
    }
  }
 catch (  Exception ex) {
    logger.error("Miss on user. Creating.");
  }
  adminToken();
  Map<String,String> payload=hashMap("email",email).map("username",username).map("name",name).map("password",password).map("pin","1234");
  resource().path("/test-organization/test-app/users").queryParam("access_token",adminAccessToken).accept(MediaType.APPLICATION_JSON).type(MediaType.APPLICATION_JSON_TYPE).post(JsonNode.class,payload);
}
