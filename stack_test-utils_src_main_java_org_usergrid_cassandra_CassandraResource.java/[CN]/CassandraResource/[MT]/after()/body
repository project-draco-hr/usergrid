{
  super.after();
  shutdown=new Thread(){
    @Override public void run(){
      try {
        Thread.currentThread().sleep(100L);
      }
 catch (      InterruptedException e) {
        e.printStackTrace();
      }
      LOG.info("Shutting down Cassandra instance in {}",tempDir.toString());
      if (schemaManager != null) {
        LOG.info("Destroying schemaManager...");
        try {
          schemaManager.destroy();
        }
 catch (        Exception e) {
          LOG.error("Ignoring failures while dropping keyspaces: {}",e.getMessage());
        }
        LOG.info("SchemaManager destroyed...");
      }
      applicationContext.stop();
      LOG.info("ApplicationContext stopped...");
      try {
        if (cassandraDaemon != null) {
          LOG.info("Deactivating CassandraDaemon...");
          cassandraDaemon.deactivate();
        }
      }
 catch (      Exception ex) {
        ex.printStackTrace();
      }
    }
  }
;
  shutdown.start();
}
