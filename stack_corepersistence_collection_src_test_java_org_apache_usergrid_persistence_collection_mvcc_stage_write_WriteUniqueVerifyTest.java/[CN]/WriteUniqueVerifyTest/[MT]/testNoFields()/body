{
  final CollectionScope collectionScope=mock(CollectionScope.class);
  final Entity entity=generateEntity();
  final MvccEntity mvccEntity=fromEntity(entity);
  WriteUniqueVerify newStage=new WriteUniqueVerify(uvstrat,fig);
  CollectionIoEvent<MvccEntity> result=newStage.call(new CollectionIoEvent<MvccEntity>(collectionScope,mvccEntity)).toBlockingObservable().last();
  assertSame("Context was correct",collectionScope,result.getEntityCollection());
}
