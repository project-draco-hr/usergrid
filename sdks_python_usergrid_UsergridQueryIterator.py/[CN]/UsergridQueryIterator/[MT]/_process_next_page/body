def _process_next_page(self, attempts=0):
    api_response = self._get_next_response()
    if (api_response is None):
        message = ('Unable to retrieve query results from url=[%s]' % self.url)
        self.logger.error(message)
        api_response = {}
        raise StopIteration
    self.last_response = api_response
    self.entities = api_response.get('entities', [])
    self.next_cursor = api_response.get('cursor', None)
    self._pos = 0
    self.count_retrieved += len(self.entities)
    self.page_counter += 1
    if (self.next_cursor is None):
        self.logger.debug(('no cursor in response. Total pages=[%s], entities=[%s] url=[%s]' % (self.page_counter, self.count_retrieved, self.url)))
