def next(self):
    if (self.last_response is None):
        self.logger.debug(('getting first page, url=[%s]' % self.url))
        self._process_next_page()
    elif ((self._pos >= len(self.entities) > 0) and (self.next_cursor is not None)):
        self.logger.debug(('getting next page, count=[%s] url=[%s], cursor=[%s]' % (self.count_retrieved, self.url, self.next_cursor)))
        self._process_next_page()
        self.logger.debug(('Sleeping [%s]s between pages' % self.page_delay))
        time.sleep(self.page_delay)
    if (self._pos < len(self.entities)):
        response = self.entities[self._pos]
        self._pos += 1
        return response
    raise StopIteration
