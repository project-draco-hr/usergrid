{
  Notification.PathTokens pathTokens=new Notification.PathTokens();
  pathTokens.setApplicationRef((SimpleEntityRef)em.getApplicationRef());
  for (int i=0; i < parameters.size() - 1; i+=2) {
    String collection=pluralize(parameters.get(i).getName());
    Identifier identifier=null;
    ServiceParameter sp=parameters.get(i + 1);
    if (collection.equals("devices") && sp.isName() && sp.getName().equals("notifications")) {
    }
 else {
      identifier=sp.getIdentifier();
    }
    pathTokens.getPathTokens().add(new Notification.PathToken(collection,identifier));
  }
  return pathTokens;
}
