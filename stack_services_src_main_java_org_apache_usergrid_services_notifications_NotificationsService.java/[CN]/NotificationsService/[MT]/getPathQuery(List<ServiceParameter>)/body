{
  PathQuery pathQuery=null;
  for (int i=0; i < parameters.size() - 1; i+=2) {
    String collection=pluralize(parameters.get(i).getName());
    ServiceParameter sp=parameters.get(i + 1);
    org.apache.usergrid.persistence.index.query.Query query=sp.getQuery();
    if (query == null) {
      query=new Query();
      if (collection.equals("devices") && sp.isName() && sp.getName().equals("notifications")) {
      }
 else {
        query.addIdentifier(sp.getIdentifier());
      }
    }
    query.setLimit(PAGE);
    query.setCollection(collection);
    if (pathQuery == null) {
      pathQuery=new PathQuery((SimpleEntityRef)em.getApplicationRef(),query);
    }
 else {
      pathQuery=pathQuery.chain(query);
    }
  }
  return pathQuery;
}
