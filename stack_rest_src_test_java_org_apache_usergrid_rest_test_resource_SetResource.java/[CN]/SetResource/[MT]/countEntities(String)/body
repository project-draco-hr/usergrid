{
  int totalEntitiesContained=0;
  JsonNode correctNode=this.withQuery(query).withLimit(1000).get();
  while (correctNode.get("entities") != null) {
    totalEntitiesContained+=correctNode.get("entities").size();
    if (correctNode.get("cursor") != null) {
      correctNode=this.withQuery(query).withCursor(correctNode.get("cursor").toString()).get();
    }
 else {
      break;
    }
  }
  return totalEntitiesContained;
}
