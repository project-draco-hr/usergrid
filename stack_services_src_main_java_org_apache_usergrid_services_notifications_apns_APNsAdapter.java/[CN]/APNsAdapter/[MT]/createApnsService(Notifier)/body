{
  LinkedBlockingQueue<SimpleApnsPushNotification> queue=new LinkedBlockingQueue<SimpleApnsPushNotification>();
  PushManagerConfiguration config=new PushManagerConfiguration();
  config.setConcurrentConnectionCount(Runtime.getRuntime().availableProcessors() * 2);
  PushManager<SimpleApnsPushNotification> pushManager=new PushManager<SimpleApnsPushNotification>(getApnsEnvironment(notifier),getSSLContext(notifier),null,null,queue,config);
  pushManager.registerRejectedNotificationListener(new RejectedAPNsListener());
  pushManager.registerFailedConnectionListener(new FailedConnectionListener());
  return pushManager;
}
