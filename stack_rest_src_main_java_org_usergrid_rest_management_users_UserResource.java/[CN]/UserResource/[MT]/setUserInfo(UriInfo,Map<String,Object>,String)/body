{
  if (json == null) {
    return null;
  }
  String oldPassword=string(json.get("oldpassword"));
  String newPassword=string(json.get("newpassword"));
  if ((oldPassword != null) && (newPassword != null)) {
    management.setAdminUserPassword(user.getUuid(),oldPassword,newPassword);
  }
  String email=string(json.get("email"));
  String username=string(json.get("username"));
  String name=string(json.get("name"));
  management.updateAdminUser(user,username,name,email);
  ApiResponse response=new ApiResponse(ui);
  response.setAction("update user info");
  return new JSONWithPadding(response,callback);
}
