{
  NotificationManager mNotificationManager=(NotificationManager)getSystemService(Context.NOTIFICATION_SERVICE);
  String appName=getAppName(this);
  Intent notificationIntent=new Intent(this,PushHandlerActivity.class);
  notificationIntent.addFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP | Intent.FLAG_ACTIVITY_CLEAR_TOP);
  notificationIntent.putExtra("pushBundle",extras);
  PendingIntent contentIntent=PendingIntent.getActivity(this,0,notificationIntent,PendingIntent.FLAG_UPDATE_CURRENT);
  NotificationCompat.Builder mBuilder=new NotificationCompat.Builder(context).setSmallIcon(context.getApplicationInfo().icon).setWhen(System.currentTimeMillis()).setContentTitle(appName).setTicker(appName).setContentIntent(contentIntent);
  String message=extras.getString("message");
  if (message != null) {
    mBuilder.setContentText(message);
  }
 else {
    mBuilder.setContentText("<missing message content>");
  }
  String msgcnt=extras.getString("msgcnt");
  if (msgcnt != null) {
    mBuilder.setNumber(Integer.parseInt(msgcnt));
  }
  mNotificationManager.notify((String)appName,NOTIFICATION_ID,mBuilder.build());
  tryPlayRingtone();
}
