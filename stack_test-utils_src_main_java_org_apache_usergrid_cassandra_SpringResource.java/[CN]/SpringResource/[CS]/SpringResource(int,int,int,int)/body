{
  LOG.info("Creating CassandraResource using {} for the ClassLoader.",Thread.currentThread().getContextClassLoader());
  this.rpcPort=rpcPort;
  this.storagePort=storagePort;
  this.sslStoragePort=sslStoragePort;
  this.nativeTransportPort=nativeTransportPort;
  try {
    String[] locations={"usergrid-properties-context.xml"};
    ConfigurableApplicationContext appContext=new ClassPathXmlApplicationContext(locations);
    Properties properties=(Properties)appContext.getBean("properties");
    properties.putAll(ArrayUtils.toMap(this.getProjectProperties().entrySet().toArray(new Object[]{})));
  }
 catch (  Exception ex) {
    throw new RuntimeException("Error getting properties",ex);
  }
}
