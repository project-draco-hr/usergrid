{
  this.em=entityManager;
  this.qm=queueManager;
  this.jobScheduler=jobScheduler;
  this.metricsFactory=metricsFactory;
  this.queueName=getQueueNames(properties);
  providerAdapters=new HashMap<String,ProviderAdapter>(3);
{
    providerAdapters.put("apple",new APNsAdapter());
    providerAdapters.put("google",new GCMAdapter());
    providerAdapters.put("noop",new TestAdapter());
  }
  ;
}
