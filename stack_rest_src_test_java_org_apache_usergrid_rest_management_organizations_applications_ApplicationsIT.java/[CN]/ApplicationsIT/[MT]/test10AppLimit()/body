{
  int size=11;
  Set<String> appNames=new HashSet<String>(size);
  for (int i=0; i < size; i++) {
    final String name=i + "";
    appNames.add(name);
    context.withApp(name).createAppForOrg();
    refreshIndex(context.getOrgName(),name);
  }
  final JsonNode apps=context.management().orgs().organization(context.getOrgName()).apps().get();
  final JsonNode data=apps.get("data");
  final String orgName=context.getOrgName();
  final Set<String> copy=new HashSet<String>(appNames);
  for (  String appName : copy) {
    final String mapEntryName=String.format("%s/%s",orgName.toLowerCase(),appName.toLowerCase());
    JsonNode orgApp=data.get(mapEntryName);
    if (orgApp != null) {
      appNames.remove(appName);
    }
  }
  assertEquals("All elements removed",0,appNames.size());
}
