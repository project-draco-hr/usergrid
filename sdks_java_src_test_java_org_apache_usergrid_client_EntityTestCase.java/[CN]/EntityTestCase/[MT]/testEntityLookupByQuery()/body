{
  String collectionName="testEntityLookupByQuery" + System.currentTimeMillis();
  String entityName="testEntity6";
  UsergridEntity entity=new UsergridEntity(collectionName,entityName);
  entity.putProperty("color","red");
  entity.putProperty("shape","square");
  entity.save();
  SDKTestUtils.indexSleep();
  UsergridQuery query=new UsergridQuery(collectionName).eq("color","red");
  UsergridEntity eLookup=Usergrid.GET(query).first();
  assertNotNull("The entity was not returned on lookup",eLookup);
  assertEquals("The returned entity does not have the same UUID",entity.getUuid(),eLookup.getUuid());
  query=new UsergridQuery(collectionName).eq("name",entityName);
  eLookup=Usergrid.GET(query).first();
  assertNotNull("The entity was not returned on lookup",eLookup);
  assertEquals("The returned entity does not have the same UUID",entity.getUuid(),eLookup.getUuid());
  query=new UsergridQuery(collectionName).eq("shape","square");
  eLookup=Usergrid.GET(query).first();
  assertNotNull("The entity was not returned on lookup",eLookup);
  assertEquals("The returned entity does not have the same UUID",entity.getUuid(),eLookup.getUuid());
  query=new UsergridQuery(collectionName).eq("shape","circle");
  eLookup=Usergrid.GET(query).first();
  assertNull("The entity was not expected to be returned on lookup",eLookup);
}
