{
  String collectionName="testEntityProperties" + System.currentTimeMillis();
  String entityName="testEntity1";
  UsergridEntity entity=new UsergridEntity(collectionName,entityName);
  entity.save();
  ArrayList<Object> lenArr=new ArrayList<>();
  lenArr.add(1);
  lenArr.add(2);
  lenArr.add(3);
  entity.putProperty("lenArray",lenArr);
  entity.save();
  entity.shift("lenArray");
  entity.save();
  UsergridEntity eLookUp=Usergrid.GET(collectionName,entityName).first();
  assertNotNull("The entity returned is not null.",eLookUp);
  ArrayNode toCompare=new ArrayNode(JsonNodeFactory.instance);
  toCompare.add(2).add(3);
  assertEquals("The two arrays should be equal.",eLookUp.getJsonNodeProperty("lenArray"),toCompare);
  entity.putProperty("foo","test1");
  entity.shift("foo");
  entity.save();
  eLookUp=Usergrid.GET(collectionName,entityName).first();
  assertNotNull("The entity returned is not null.",eLookUp);
  assertEquals("The entity returned is not null.",eLookUp.getStringProperty("foo"),"test1");
  ArrayList<Object> lenArr2=new ArrayList<>();
  entity.putProperty("foo",lenArr2);
  entity.shift("foo");
  entity.save();
  eLookUp=Usergrid.GET(collectionName,entityName).first();
  assertNotNull("The entity returned is not null.",eLookUp);
  assertEquals("The two arrays should be equal.",eLookUp.getJsonNodeProperty("foo"),new ArrayNode(JsonNodeFactory.instance));
}
