{
  DB db=getDb();
  BasicDBObject doc=new BasicDBObject();
  doc.put("name","nico");
  doc.put("color","tabby");
  WriteResult result=db.getCollection("inserttests").insert(doc);
  assertNull(result.getError());
  Set<String> colls=db.getCollectionNames();
  assertTrue(colls.contains("inserttests"));
  DBCollection coll=db.getCollection("inserttests");
  DBCursor cur=coll.find();
  int count=0;
  DBObject object=null;
  assertTrue(cur.hasNext());
  object=cur.next();
  assertFalse(cur.hasNext());
  UUID id=UUID.fromString(object.get("uuid").toString());
  Object oid=object.get("_id");
  assertEquals("nico",object.get("name"));
  assertEquals("tabby",object.get("color"));
  assertNotNull(oid);
  assertNotNull(id);
  UUID appId=emf.lookupApplication("test-organization/test-app");
  EntityManager em=emf.getEntityManager(appId);
  Entity entity=em.get(id);
  assertNotNull(entity);
  assertEquals("nico",entity.getProperty("name"));
  assertEquals("tabby",entity.getProperty("color"));
}
