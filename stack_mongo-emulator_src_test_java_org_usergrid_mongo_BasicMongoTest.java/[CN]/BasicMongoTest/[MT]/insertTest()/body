{
  Mongo m=new Mongo("localhost",27017);
  m.setWriteConcern(WriteConcern.SAFE);
  DB db=m.getDB("testapp");
  db.authenticate("test","test".toCharArray());
  BasicDBObject doc=new BasicDBObject();
  doc.put("name","nico");
  doc.put("color","tabby");
  WriteResult result=db.getCollection("inserttests").insert(doc);
  assertNull(result.getError());
  Object field=result.getField("_id");
  assertNotNull(field);
  Object uuid=result.getField("uuid");
  assertNotNull(uuid);
  UUID id=UUID.fromString(uuid.toString());
  Set<String> colls=db.getCollectionNames();
  assertTrue(colls.contains("inserttests"));
  DBCollection coll=db.getCollection("inserttests");
  DBCursor cur=coll.find();
  int count=0;
  DBObject object=null;
  while (cur.hasNext()) {
    count++;
    object=cur.next();
    assertEquals("nico",object.get("name"));
    assertEquals("tabby",object.get("color"));
  }
  assertEquals(1,count);
}
