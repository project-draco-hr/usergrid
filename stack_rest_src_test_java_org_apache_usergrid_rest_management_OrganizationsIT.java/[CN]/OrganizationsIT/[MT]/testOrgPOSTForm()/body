{
  Organization organization=createOrgPayload("testOrgPOSTForm",null);
  Form form=new Form();
  form.add("organization",organization.getOrganization());
  form.add("username",organization.getUsername());
  form.add("grant_type","password");
  form.add("email",organization.getEmail());
  form.add("name",organization.getName());
  form.add("password",organization.getPassword());
  Organization organizationReturned=clientSetup.getRestClient().management().orgs().post(form);
  assertNotNull(organizationReturned);
  assertEquals(organization.getOrganization(),organizationReturned.getName());
  Token tokenPayload=new Token("password",organization.getName(),organization.getPassword());
  Token tokenReturned=clientSetup.getRestClient().management().token().post(false,Token.class,tokenPayload,null);
  assertNotNull(tokenReturned);
  this.management().token().setToken(tokenReturned);
  Organization returnedOrg=clientSetup.getRestClient().management().orgs().organization(organization.getOrganization()).get();
  assertTrue(returnedOrg != null && returnedOrg.getName().equals(organization.getOrganization()));
}
