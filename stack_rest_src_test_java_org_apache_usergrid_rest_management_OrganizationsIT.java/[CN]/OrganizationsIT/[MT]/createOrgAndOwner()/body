{
  String username="createOrgAndOwner" + UUIDUtils.newTimeUUID();
  String name=username;
  String password="password";
  String orgName=username;
  String email=username + "@usergrid.com";
  Map<String,Object> userProperties=new HashMap<String,Object>();
  userProperties.put("company","Apigee");
  Organization organization=new Organization(orgName,username,email,name,password,userProperties);
  Organization organizationResponse=clientSetup.getRestClient().management().orgs().post(organization);
  assertNotNull(organizationResponse);
  Token token=clientSetup.getRestClient().management().token().post(new Token("password",username,password));
  assertNotNull(token);
  assertNotNull(clientSetup.getRestClient().getContext().getToken());
  Organization returnedOrg=clientSetup.getRestClient().management().orgs().organization(orgName).get();
  User returnedUser=new User().mapSpecificUserResponse((Map<String,Object>)returnedOrg.get("users"),username);
  assertTrue(returnedOrg != null && returnedOrg.getName().equals(orgName));
  assertEquals("Apigee",returnedUser.getProperties().get("company"));
}
