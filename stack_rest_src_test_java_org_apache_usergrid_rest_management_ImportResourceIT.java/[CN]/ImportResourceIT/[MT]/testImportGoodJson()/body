{
  Assume.assumeTrue(configured);
  String org=clientSetup.getOrganizationName();
  String app=clientSetup.getAppName();
  List<String> filenames=new ArrayList<>(1);
  filenames.add("testImportCorrect.testCol.1.json");
  S3Upload s3Upload=new S3Upload();
  s3Upload.copyToS3(System.getProperty("s3_access_id"),System.getProperty("s3_key"),bucketName,filenames);
  Entity importEntity=importCollection();
  Entity importGet=this.management().orgs().organization(org).app().addToPath(app).addToPath("import").addToPath(importEntity.getUuid().toString()).get();
  refreshIndex();
  Entity importGetIncludes=this.management().orgs().organization(org).app().addToPath(app).addToPath("import").addToPath(importEntity.getUuid().toString()).addToPath("includes").get();
  assertNotNull(importGet);
  assertNotNull(importGetIncludes);
  assertEquals(1,importGetIncludes.size());
  assertEquals("FINISHED",importGet.get("state"));
  assertEquals(1,importGet.get("fileCount"));
  Collection collection=this.app().collection("things").get();
  assertNotNull(collection);
  assertEquals(1,collection.getNumOfEntities());
  assertEquals("thing0",collection.getResponse().getEntities().get(0).get("name"));
}
