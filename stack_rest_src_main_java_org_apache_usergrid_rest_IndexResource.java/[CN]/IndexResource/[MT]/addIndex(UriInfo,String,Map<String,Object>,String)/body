{
  ApiResponse response=createApiResponse();
  final UUID appId=UUIDUtils.tryExtractUUID(applicationIdStr);
  if (!config.containsKey("replicas") || !config.containsKey("shards") || !(config.get("replicas") instanceof Integer)|| !(config.get("shards") instanceof Integer)) {
    throw new IllegalArgumentException("body must contains 'replicas' of type int and 'shards' of type int");
  }
  if (!config.containsKey("indexSuffix")) {
    throw new IllegalArgumentException("Please add an indexSuffix to your post");
  }
  String writeConsistency=config.get("writeConsistency") != null ? (String)config.get("writeConsistency") : "one";
  emf.addIndex(appId,config.get("indexSuffix").toString(),(int)config.get("shards"),(int)config.get("replicas"),writeConsistency);
  response.setAction("Add index to alias");
  return new JSONWithPadding(response,callback);
}
