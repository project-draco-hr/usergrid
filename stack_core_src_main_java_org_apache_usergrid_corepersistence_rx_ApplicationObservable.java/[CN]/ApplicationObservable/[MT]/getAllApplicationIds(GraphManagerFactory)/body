{
  final Observable<Id> systemIds=Observable.from(Arrays.asList(generateApplicationId(NamingUtils.DEFAULT_APPLICATION_ID),generateApplicationId(NamingUtils.MANAGEMENT_APPLICATION_ID),generateApplicationId(NamingUtils.SYSTEM_APP_ID)));
  ApplicationScope appScope=getApplicationScope(NamingUtils.SYSTEM_APP_ID);
  GraphManager gm=graphManagerFactory.createEdgeManager(appScope);
  String edgeType=CpNamingUtils.getEdgeTypeFromCollectionName("appinfos");
  Id rootAppId=appScope.getApplication();
  Observable<Id> appIds=gm.loadEdgesFromSource(new SimpleSearchByEdgeType(rootAppId,edgeType,Long.MAX_VALUE,SearchByEdgeType.Order.DESCENDING,null)).map(new Func1<Edge,Id>(){
    @Override public Id call(    final Edge edge){
      return edge.getTargetNode();
    }
  }
);
  return Observable.merge(systemIds,appIds);
}
