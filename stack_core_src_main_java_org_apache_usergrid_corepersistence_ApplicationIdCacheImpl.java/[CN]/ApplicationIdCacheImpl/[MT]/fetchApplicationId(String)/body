{
  UUID value=null;
  EntityCollectionManager ecm=emf.getManagerCache().getEntityCollectionManager(new ApplicationScopeImpl(new SimpleId(CpNamingUtils.MANAGEMENT_APPLICATION_ID,Schema.TYPE_APPLICATION)));
  try {
    if (rootEm.getApplication() == null) {
      return Optional.empty();
    }
  }
 catch (  Exception e) {
    logger.error("Error looking up management app",e);
  }
  try {
    final Observable<Id> idObs=ecm.getIdField(CpNamingUtils.APPLICATION_INFO,new StringField(Schema.PROPERTY_NAME,applicationName));
    Id id=idObs.toBlocking().lastOrDefault(null);
    if (id != null) {
      value=id.getUuid();
      logger.debug("Loaded for key {} value {}",applicationName,value);
    }
 else {
      logger.debug("Could not load value for key {} ",applicationName);
    }
    return value == null ? Optional.<UUID>empty() : Optional.of(value);
  }
 catch (  Exception e) {
    throw new RuntimeException("Unable to retrieve application id",e);
  }
}
