{
  UUID value=null;
  try {
    if (rootEm.getApplication() == null) {
      return null;
    }
  }
 catch (  Exception e) {
    logger.error("Error looking up app",e);
  }
  try {
    Query q=Query.fromQL(Schema.PROPERTY_NAME + " = '" + applicationName.toLowerCase()+ "'");
    Results results=rootEm.searchCollection(rootEm.getApplicationRef(),CpNamingUtils.APPLICATION_INFOS,q);
    if (!results.isEmpty()) {
      Entity entity=results.iterator().next();
      Object uuidObject=entity.getProperty(Schema.PROPERTY_APPLICATION_ID);
      if (uuidObject instanceof UUID) {
        value=(UUID)uuidObject;
      }
 else {
        value=UUIDUtils.tryExtractUUID(entity.getProperty(Schema.PROPERTY_APPLICATION_ID).toString());
      }
    }
    logger.debug("Loaded    for key {} value {}",applicationName,value);
    return value;
  }
 catch (  Exception e) {
    throw new RuntimeException("Unable to retrieve application id",e);
  }
}
