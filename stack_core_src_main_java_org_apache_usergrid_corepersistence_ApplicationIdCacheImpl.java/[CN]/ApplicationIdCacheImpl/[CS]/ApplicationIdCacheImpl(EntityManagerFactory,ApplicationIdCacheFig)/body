{
  this.emf=(CpEntityManagerFactory)emf;
  this.rootEm=emf.getEntityManager(emf.getManagementAppId());
  appCache=CacheBuilder.newBuilder().maximumSize(fig.getCacheSize()).expireAfterWrite(fig.getCacheTimeout(),TimeUnit.MILLISECONDS).build(new CacheLoader<String,Optional<UUID>>(){
    @Override public Optional<UUID> load(    final String key) throws Exception {
      return fetchApplicationId(key);
    }
  }
);
}
