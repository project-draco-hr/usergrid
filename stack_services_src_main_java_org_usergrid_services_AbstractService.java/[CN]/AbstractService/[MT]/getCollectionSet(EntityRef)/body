{
  Set<String> set=Schema.getDefaultSchema().getCollectionNames(ref.getType());
  set=new LinkedHashSet<String>(set);
  if (addedCollections != null) {
    set.addAll(addedCollections);
  }
  if (hiddenCollections != null) {
    set.removeAll(hiddenCollections);
  }
  if (set.size() > 0) {
    return set;
  }
  return null;
}
