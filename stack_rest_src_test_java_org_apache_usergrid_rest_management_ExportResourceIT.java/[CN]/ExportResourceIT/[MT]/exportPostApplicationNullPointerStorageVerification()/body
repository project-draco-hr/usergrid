{
  JsonNode node=null;
  ClientResponse.Status responseStatus=ClientResponse.Status.OK;
  HashMap<String,Object> payload=payloadBuilder();
  HashMap<String,Object> properties=(HashMap<String,Object>)payload.get("properties");
  HashMap<String,Object> storage_info=(HashMap<String,Object>)properties.get("storage_info");
  storage_info.remove("s3_key");
  String orgName=context.getOrgName();
  String appName=context.getAppName();
  String token=context.getActiveUser().getToken();
  try {
    node=mapper.readTree(resource().path("/management/orgs/" + orgName + "/apps/"+ appName+ "/export").queryParam("access_token",token).accept(MediaType.APPLICATION_JSON).type(MediaType.APPLICATION_JSON_TYPE).post(String.class,payload));
  }
 catch (  UniformInterfaceException uie) {
    responseStatus=uie.getResponse().getClientResponseStatus();
  }
  assertEquals(ClientResponse.Status.BAD_REQUEST,responseStatus);
  payload=payloadBuilder();
  properties=(HashMap<String,Object>)payload.get("properties");
  storage_info=(HashMap<String,Object>)properties.get("storage_info");
  storage_info.remove(SDKGlobalConfiguration.ACCESS_KEY_ENV_VAR);
  try {
    node=mapper.readTree(resource().path("/management/orgs/" + orgName + "/apps/"+ appName+ "/export").queryParam("access_token",token).accept(MediaType.APPLICATION_JSON).type(MediaType.APPLICATION_JSON_TYPE).post(String.class,payload));
  }
 catch (  UniformInterfaceException uie) {
    responseStatus=uie.getResponse().getClientResponseStatus();
  }
  assertEquals(ClientResponse.Status.BAD_REQUEST,responseStatus);
  payload=payloadBuilder();
  properties=(HashMap<String,Object>)payload.get("properties");
  storage_info=(HashMap<String,Object>)properties.get("storage_info");
  storage_info.remove("bucket_location");
  try {
    node=mapper.readTree(resource().path("/management/orgs/" + orgName + "/apps/"+ appName+ "/export").queryParam("access_token",token).accept(MediaType.APPLICATION_JSON).type(MediaType.APPLICATION_JSON_TYPE).post(String.class,payload));
  }
 catch (  UniformInterfaceException uie) {
    responseStatus=uie.getResponse().getClientResponseStatus();
  }
  assertEquals(ClientResponse.Status.BAD_REQUEST,responseStatus);
}
