{
  if (getConnectingEntityType() != null) {
    q.addEqualsExpression(CONNECTING_ENTITY_TYPE,bytebuffer(getConnectingEntityType()));
  }
  if (getConnectingEntityId() != null) {
    q.addEqualsExpression(CONNECTING_ENTITY_ID,bytebuffer(getConnectingEntityId()));
  }
  if (pairedConnections != null) {
    int i=0;
    for (    ConnectedEntityRef pairedConnection : pairedConnections) {
      if (pairedConnection != null) {
        String pairedConnectionType=pairedConnection.getConnectionType();
        String pairedConnectingEntityType=pairedConnection.getType();
        UUID pairedConnectingEntityId=pairedConnection.getUuid();
        if (pairedConnectionType != null) {
          q.addEqualsExpression(PAIRED_CONNECTION_TYPE + i,bytebuffer(pairedConnectionType));
        }
        if (pairedConnectingEntityType != null) {
          q.addEqualsExpression(PAIRED_CONNECTING_ENTITY_TYPE + i,bytebuffer(pairedConnectingEntityType));
        }
        if (pairedConnectingEntityId != null) {
          q.addEqualsExpression(PAIRED_CONNECTING_ENTITY_ID + i,bytebuffer(pairedConnectingEntityId));
        }
      }
      i++;
    }
  }
  if (getConnectionType() != null) {
    q.addEqualsExpression(CONNECTION_TYPE,bytebuffer(getConnectionType()));
  }
  if (getConnectedEntityType() != null) {
    q.addEqualsExpression(CONNECTED_ENTITY_TYPE,bytebuffer(getConnectedEntityType()));
  }
  if (getConnectedEntityId() != null) {
    q.addEqualsExpression(CONNECTED_ENTITY_ID,bytebuffer(getConnectedEntityId()));
  }
}
