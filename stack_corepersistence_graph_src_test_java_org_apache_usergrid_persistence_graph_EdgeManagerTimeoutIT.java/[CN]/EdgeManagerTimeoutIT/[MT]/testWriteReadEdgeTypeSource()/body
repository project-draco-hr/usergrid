{
  EdgeManager em=emf.createEdgeManager(scope);
  Edge edge=createEdge("source","test","target");
  em.writeEdge(edge).toBlockingObservable().last();
  SearchByEdgeType search=createSearchByEdge(edge.getSourceNode(),edge.getType(),edge.getVersion(),null);
  Observable<Edge> edges=em.loadEdgesFromSource(search);
  final Semaphore blocker=new Semaphore(0);
  edges.subscribe(new Action1<Edge>(){
    @Override public void call(    final Edge edge){
      try {
        blocker.acquire();
      }
 catch (      InterruptedException e) {
        throw new RuntimeException(e);
      }
    }
  }
);
  blocker.acquire();
}
