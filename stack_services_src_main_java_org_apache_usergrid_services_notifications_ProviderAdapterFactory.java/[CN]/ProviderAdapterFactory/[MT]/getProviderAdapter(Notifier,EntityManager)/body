{
  ProviderAdapter adapter=null;
switch (notifier.getProvider().toLowerCase()) {
case "apple":
    adapter=new APNsAdapter(entityManager,notifier);
  break;
case "google":
adapter=new GCMAdapter(entityManager,notifier);
break;
case "windows":
adapter=new WNSAdapter(entityManager,notifier);
break;
case "noop":
adapter=new TestAdapter(notifier);
break;
}
return adapter;
}
