{
  final ComittedGraphTestHelper helper=new ComittedGraphTestHelper(gm);
  edgeDelete.addCompleteListener(new CompleteListener<EdgeEvent<MarkedEdge>>(){
    @Override public void onComplete(    final AsynchronousMessage<EdgeEvent<MarkedEdge>> event){
      helper.complete();
    }
  }
);
  edgeDelete.addErrorListener(new ErrorListener<EdgeEvent<MarkedEdge>>(){
    @Override public void onError(    final AsynchronousMessage<EdgeEvent<MarkedEdge>> event,    final Throwable t){
      helper.complete();
      helper.error();
    }
  }
);
  nodeDelete.addCompleteListener(new CompleteListener<EdgeEvent<Id>>(){
    @Override public void onComplete(    final AsynchronousMessage<EdgeEvent<Id>> event){
      helper.complete();
    }
  }
);
  nodeDelete.addErrorListener(new ErrorListener<EdgeEvent<Id>>(){
    @Override public void onError(    final AsynchronousMessage<EdgeEvent<Id>> event,    final Throwable t){
      helper.complete();
      helper.error();
    }
  }
);
  edgeWrite.addCompleteListener(new CompleteListener<EdgeEvent<MarkedEdge>>(){
    @Override public void onComplete(    final AsynchronousMessage<EdgeEvent<MarkedEdge>> event){
      helper.complete();
    }
  }
);
  edgeWrite.addErrorListener(new ErrorListener<EdgeEvent<MarkedEdge>>(){
    @Override public void onError(    final AsynchronousMessage<EdgeEvent<MarkedEdge>> event,    final Throwable t){
      helper.complete();
      helper.error();
    }
  }
);
  return helper;
}
