{
  String type=typesByCollectionNames.get(collectionName);
  if (type == null) {
    throw new RuntimeException("No type found for collection name: " + collectionName);
  }
  CollectionScope scope=new CollectionScopeImpl(orgScope.getOrganization(),appScope.getOwner(),type);
  EntityIndex eci=getIndex(scope);
  Results results=eci.search(scope,query);
  return results;
}
