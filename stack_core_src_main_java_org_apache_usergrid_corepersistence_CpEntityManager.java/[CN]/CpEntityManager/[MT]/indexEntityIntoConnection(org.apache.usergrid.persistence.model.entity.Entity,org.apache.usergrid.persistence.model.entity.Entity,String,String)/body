{
  logger.debug("Indexing into connection {} source {}:{} target {}:{}",new Object[]{connType,sourceEntity.getId().getType(),sourceEntity.getId().getUuid(),targetEntity.getId().getType(),targetEntity.getId().getUuid()});
  IndexScope indexScope=new IndexScopeImpl(applicationScope.getApplication(),sourceEntity.getId(),CpEntityManager.getConnectionScopeName(targetEntityType,connType));
  EntityIndex ei=managerCache.getEntityIndex(indexScope);
  ei.index(targetEntity);
  IndexScope allTypesIndexScope=new IndexScopeImpl(applicationScope.getApplication(),sourceEntity.getId(),ALL_TYPES);
  EntityIndex aei=managerCache.getEntityIndex(allTypesIndexScope);
  aei.index(targetEntity);
}
