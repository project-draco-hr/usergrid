{
  if (applicationScope == null || entityRef == null) {
    return Observable.empty();
  }
  CollectionScope collectionScope=getCollectionScopeNameFromEntityType(getApplicationScope().getApplication(),entityRef.getType());
  EntityCollectionManager ecm=managerCache.getEntityCollectionManager(collectionScope);
  Id entityId=new SimpleId(entityRef.getUuid(),entityRef.getType());
  org.apache.usergrid.persistence.model.entity.Entity entity=load(new EntityScope(collectionScope,entityId));
  if (entity != null) {
    decrementEntityCollection(Schema.defaultCollectionName(entityId.getType()));
    return ecm.delete(entityId);
  }
 else {
    return Observable.empty();
  }
}
