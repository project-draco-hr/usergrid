{
  Id id=new SimpleId(entityRef.getUuid(),entityRef.getType());
  String collectionName=Schema.defaultCollectionName(entityRef.getType());
  CollectionScope collectionScope=new CollectionScopeImpl(appScope.getApplication(),appScope.getApplication(),collectionName);
  EntityCollectionManager ecm=managerCache.getEntityCollectionManager(collectionScope);
  org.apache.usergrid.persistence.model.entity.Entity cpEntity=ecm.load(id).toBlockingObservable().last();
  if (cpEntity == null) {
    return null;
  }
  Class clazz=Schema.getDefaultSchema().getEntityClass(entityRef.getType());
  Entity entity=EntityFactory.newEntity(entityRef.getUuid(),entityRef.getType(),clazz);
  entity.setProperties(CpEntityMapUtils.toMap(cpEntity));
  return entity;
}
