{
  Instant timeInstance=Instant.now();
  Long epoch=timeInstance.toEpochMilli();
  Map<String,Object> schemaMap=new HashMap<>();
  schemaMap.put("lastUpdated",epoch);
  schemaMap.put("lastUpdateBy",owner);
  MapManager mm=getMapManagerForTypes();
  IndexSchemaCache indexSchemaCache=indexSchemaCacheFactory.getInstance(mm);
  Optional<Map> collectionIndexingSchema=indexSchemaCache.getCollectionSchema(collectionName);
  if (collectionIndexingSchema.isPresent()) {
    Map jsonMapData=collectionIndexingSchema.get();
    schemaMap.put("lastReindexed",jsonMapData.get("lastReindexed"));
  }
 else {
    schemaMap.put("lastReindexed",0);
  }
  ArrayList<String> fieldProperties=(ArrayList<String>)properties.get("fields");
  if (fieldProperties.contains("*")) {
    ArrayList<String> wildCardArrayList=new ArrayList<>();
    wildCardArrayList.add("*");
    schemaMap.put("fields",wildCardArrayList);
  }
 else {
    schemaMap.putAll(properties);
  }
  indexSchemaCache.putCollectionSchema(collectionName,JsonUtils.mapToJsonString(schemaMap));
  return schemaMap;
}
