{
  Instant timeInstance=Instant.now();
  Long epoch=timeInstance.toEpochMilli();
  Map<String,Object> schemaMap=new HashMap<>();
  schemaMap.put("lastUpdated",epoch);
  schemaMap.put("lastUpdateBy",owner);
  MapManager mm=getMapManagerForTypes();
  IndexSchemaCache indexSchemaCache=managerCache.getIndexSchema(mm);
  java.util.Optional<String> collectionIndexingSchema=indexSchemaCache.getCollectionSchema(collectionName);
  String jsonSchemaMap=null;
  if (collectionIndexingSchema.isPresent()) {
    jsonSchemaMap=collectionIndexingSchema.get();
  }
  if (jsonSchemaMap != null) {
    Map jsonMapData=(Map)JsonUtils.parse(jsonSchemaMap);
    schemaMap.put("lastReindexed",jsonMapData.get("lastReindexed"));
  }
 else {
    schemaMap.put("lastReindexed",0);
  }
  schemaMap.putAll(properties);
  mm.putString(collectionName,JsonUtils.mapToJsonString(schemaMap));
  indexSchemaCache.evictCollectionSchema(collectionName);
  return schemaMap;
}
