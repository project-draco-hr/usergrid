{
  if (bulkRequest.numberOfActions() == 0) {
    return;
  }
  final BulkResponse responses;
  try {
    responses=bulkRequest.execute().actionGet();
  }
 catch (  Throwable t) {
    log.error("Unable to communicate with elasticsearch");
    failureMonitor.fail("Unable to execute batch",t);
    throw t;
  }
  failureMonitor.success();
  boolean error=false;
  for (  BulkItemResponse response : responses) {
    if (response.isFailed()) {
      log.error("Unable to index id={}, type={}, index={}, failureMessage={} ",response.getId(),response.getType(),response.getIndex(),response.getFailureMessage());
      error=true;
    }
  }
  if (error) {
  }
}
