{
  EntityManager em=emf.getEntityManager(CpNamingUtils.MANAGEMENT_APPLICATION_ID);
  Entity appToDelete=em.get(new SimpleEntityRef(CpNamingUtils.APPLICATION_INFO,applicationId));
  final EntityRef alias=em.getAlias(CpNamingUtils.DELETED_APPLICATION_INFO,appToDelete.getName());
  if (alias != null) {
    throw new ConflictException("Cannot delete app with same name as already deleted app");
  }
  emf.deleteApplication(applicationId);
}
