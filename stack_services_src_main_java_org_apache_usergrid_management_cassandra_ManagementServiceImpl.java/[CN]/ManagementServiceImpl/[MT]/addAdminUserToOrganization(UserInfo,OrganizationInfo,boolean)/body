{
  if ((user == null) || (organization == null)) {
    return;
  }
  EntityManager em=emf.getEntityManager(smf.getManagementAppId());
  if (em.getCollection(organization.getUuid(),"users",Query.fromQL("select * where uuid =" + user.getUuid()),Level.IDS).size() > 0) {
    if (logger.isDebugEnabled()) {
      logger.debug("Found value: {} already in collection",user.getName());
    }
    return;
  }
  em.addToCollection(new SimpleEntityRef(Group.ENTITY_TYPE,organization.getUuid()),"users",new SimpleEntityRef(User.ENTITY_TYPE,user.getUuid()));
  if (email) {
    sendAdminUserInvitedEmail(user,organization);
  }
}
