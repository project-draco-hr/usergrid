{
  OrganizationInfo organization=getOrganizationByUuid(organizationId);
  UUID applicationId=emf.importApplication(organization.getName(),application.getUuid(),application.getName(),application.getProperties());
  EntityManager em=emf.getEntityManager(smf.getManagementAppId());
  properties.setProperty("name",buildAppName(application.getName(),organization));
  properties.setProperty(PROPERTY_PATH,organization.getName());
  Entity appInfo=em.create(applicationId,CpNamingUtils.APPLICATION_INFO,application.getProperties());
  writeUserToken(smf.getManagementAppId(),appInfo,encryptionService.plainTextCredentials(generateOAuthSecretKey(AuthPrincipalType.APPLICATION),null,applicationId));
  addApplicationToOrganization(organizationId,applicationId,appInfo);
  return applicationId;
}
