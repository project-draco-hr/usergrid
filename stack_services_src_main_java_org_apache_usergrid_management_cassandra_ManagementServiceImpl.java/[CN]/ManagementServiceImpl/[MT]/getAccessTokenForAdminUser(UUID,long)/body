{
  if (properties.getProperty(TokenServiceImpl.USERGRID_EXTERNAL_SSO_ENABLED).equalsIgnoreCase("true")) {
    throw new RuntimeException("SSO Integration is enabled, Admin users must login via provider: " + properties.getProperty(TokenServiceImpl.USERGRID_EXTERNAL_PROVIDER));
  }
  return getTokenForPrincipal(ACCESS,null,smf.getManagementAppId(),ADMIN_USER,userId,duration);
}
