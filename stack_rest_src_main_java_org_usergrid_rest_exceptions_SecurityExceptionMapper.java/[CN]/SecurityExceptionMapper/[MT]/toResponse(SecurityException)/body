{
  if (e.getRealm() != null) {
    return Response.status(Status.UNAUTHORIZED).header("WWW-Authenticate","Basic realm=\"" + e.getRealm() + "\"").type("application/json").entity(e.getJsonResponse()).build();
  }
 else {
    return Response.status(UNAUTHORIZED).type(APPLICATION_JSON_TYPE).entity(e.getJsonResponse()).build();
  }
}
