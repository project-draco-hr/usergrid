{
  Client client=elasticSearchRule.getClient();
  final CollectionScope scope=mock(CollectionScope.class);
  when(scope.getName()).thenReturn("contacts");
  String index=RandomStringUtils.randomAlphanumeric(20).toLowerCase();
  String type=scope.getName();
  EntityCollectionIndex entityIndex=new EntityCollectionIndexImpl(client,index,scope,true);
  indexSampleData(entityIndex);
  testQueries(client,index,type);
  client.close();
}
