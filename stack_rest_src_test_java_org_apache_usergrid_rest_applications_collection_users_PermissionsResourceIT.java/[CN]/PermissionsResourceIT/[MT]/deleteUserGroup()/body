{
  String groupPath="groupPath";
  Entity data=new Entity().chainPut("name",groupPath).chainPut("type","group").chainPut("path",groupPath);
  Entity node=this.app().collection("groups").post(data);
  assertNull(node.get("error"));
  refreshIndex();
  node=this.app().collection("groups").entity(groupPath).collection("users").entity(USER).post();
  assertNull(node.get("error"));
  refreshIndex();
  Collection groups=this.app().collection("users").entity(USER).collection("groups").get();
  assertEquals(groups.next().get("name"),groupPath);
  ApiResponse response=this.app().collection("groups").entity(groupPath).collection("users").entity(USER).delete();
  assertNull(response.getError());
  refreshIndex();
  int status=0;
  try {
    groups=this.app().collection("users").entity(USER).collection("groups").get();
    assertFalse(groups.hasNext());
  }
 catch (  UniformInterfaceException e) {
    status=e.getResponse().getStatus();
    fail();
  }
}
