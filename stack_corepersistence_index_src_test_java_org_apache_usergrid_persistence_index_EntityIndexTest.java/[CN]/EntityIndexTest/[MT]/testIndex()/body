{
  Client client=elasticSearchRule.getClient();
  final CollectionScope scope=mock(CollectionScope.class);
  when(scope.getName()).thenReturn("contacts");
  String index=RandomStringUtils.randomAlphanumeric(20).toLowerCase();
  String type=scope.getName();
  EntityIndex entityIndex=new EntityIndexImpl(client,index);
  indexSampleData(entityIndex,scope);
  testQueries(client,index,type);
  client.close();
}
