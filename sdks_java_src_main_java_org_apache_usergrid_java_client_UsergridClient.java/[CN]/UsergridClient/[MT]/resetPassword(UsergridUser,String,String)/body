{
  String usernameOrEmail=user.usernameOrEmail();
  if (usernameOrEmail == null) {
    return UsergridResponse.fromError(this,"Error resetting password.","The UsergridUser object must contain a valid username or email to reset the password.");
  }
  Map<String,Object> data=new HashMap<>();
  data.put("newpassword",newPassword);
  data.put("oldpassword",oldPassword);
  String[] pathSegments={"users",usernameOrEmail,"password"};
  UsergridRequest request=new UsergridRequest(UsergridHttpMethod.POST,UsergridRequest.APPLICATION_JSON_MEDIA_TYPE,this.clientAppUrl(),null,data,this.authForRequests(),pathSegments);
  return this.sendRequest(request);
}
