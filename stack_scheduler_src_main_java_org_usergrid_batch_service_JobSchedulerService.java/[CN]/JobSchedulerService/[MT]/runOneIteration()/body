{
  logger.info("running iteration...");
  List<JobDescriptor> activeJobs=null;
  while (true) {
    int capacity=getCapacity();
    logger.debug("capacity = {}",capacity);
    if (capacity == 0) {
      break;
    }
    activeJobs=jobAccessor.getJobs(capacity);
    if (activeJobs.size() == 0) {
      break;
    }
    for (    JobDescriptor jd : activeJobs) {
      logger.info("Submitting work for {}",jd);
      submitWork(jd);
      logger.info("Work submitted for {}",jd);
    }
  }
}
