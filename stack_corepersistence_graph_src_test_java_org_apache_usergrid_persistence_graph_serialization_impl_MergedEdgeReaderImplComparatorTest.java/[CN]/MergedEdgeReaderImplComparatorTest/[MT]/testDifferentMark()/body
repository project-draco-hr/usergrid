{
  EdgeSerialization otherSerialization=mock(EdgeSerialization.class);
  MergedEdgeReaderImpl.SourceAwareMarkedEdge first=new MergedEdgeReaderImpl.SourceAwareMarkedEdge(createEdge("source","edge","target"),edgeSerialization);
  MergedEdgeReaderImpl.SourceAwareMarkedEdge second=new MergedEdgeReaderImpl.SourceAwareMarkedEdge(createEdge(first.edge.getSourceNode(),first.edge.getType(),first.edge.getTargetNode(),first.edge.getVersion()),otherSerialization);
  MergedEdgeReaderImpl.EdgeVersionComparator comparator=new MergedEdgeReaderImpl.EdgeVersionComparator(edgeSerialization);
  int compare=comparator.compare(first,second);
  assertTrue("Edges are equal, comes from higher weighted iterator",compare > 0);
  compare=comparator.compare(second,first);
  assertTrue("Edges are equal, comes from less weighted iterator",compare < 0);
}
