{
  logger.info("Starting to read collections");
  int count=0;
  try {
    Map<String,Object> collectionMetadata=em.getApplicationCollectionMetadata();
    for (    String collection : collectionMetadata.keySet()) {
      subscriber.onNext(collection);
      count++;
    }
  }
 catch (  Exception e) {
    subscriber.onError(e);
  }
  logger.info("Done. Read {} collection names",count);
  if (count > 0) {
    subscriber.onCompleted();
  }
 else {
    subscriber.unsubscribe();
  }
}
