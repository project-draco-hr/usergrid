{
  userDao.save(new User(username,password));
  BasicProviderParams newProviderParams=new BasicProviderParams(username,instanceTypeField.getValue(),accessKeyField.getValue(),secretKeyField.getValue(),imageField.getValue(),keyPairNameField.getValue());
  ProviderParams oldProviderParams=providerParamsDao.getByUser(username);
  if (oldProviderParams != null) {
    newProviderParams.setKeys(oldProviderParams.getKeys());
  }
  providerParamsDao.save(newProviderParams);
  close();
  Notification.show("Success","User saved successfully",Notification.Type.HUMANIZED_MESSAGE);
}
