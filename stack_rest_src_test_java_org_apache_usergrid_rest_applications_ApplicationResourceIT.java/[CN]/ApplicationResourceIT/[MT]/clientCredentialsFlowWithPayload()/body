{
  String orgName=clientSetup.getOrganizationName().toLowerCase();
  String appName=clientSetup.getAppName().toLowerCase();
  OrganizationResource orgResource=clientSetup.getRestClient().management().orgs().organization(clientSetup.getOrganizationName());
  Credentials orgCredentials=orgResource.credentials().get();
  String clientId=orgCredentials.getClientId();
  String clientSecret=orgCredentials.getClientSecret();
  Form payload=new Form();
  payload.add("grant_type","client_credentials");
  payload.add("client_id",clientId);
  payload.add("client_secret",clientSecret);
  ApiResponse apiResponse=resource().path(String.format("/%s/%s/token",orgName,appName)).accept(MediaType.APPLICATION_JSON).type(MediaType.APPLICATION_FORM_URLENCODED_TYPE).post(ApiResponse.class,payload);
  assertNotNull("It has access_token.",apiResponse.getAccessToken());
  assertNotNull("It has expires_in.",apiResponse.getProperties().get("expires_in"));
}
