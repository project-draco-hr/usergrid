{
  String orgName=clientSetup.getOrganizationName().toLowerCase();
  String appName=clientSetup.getAppName().toLowerCase();
  OrganizationResource orgResource=clientSetup.getRestClient().management().orgs().organization(clientSetup.getOrganizationName());
  Credentials orgCredentials=orgResource.credentials().get();
  String clientId=orgCredentials.getClientId();
  String clientSecret=orgCredentials.getClientSecret();
  String clientCredentials=clientId + ":" + clientSecret;
  String token=Base64.encodeToString(clientCredentials.getBytes());
  Map<String,String> payload=hashMap("grant_type","client_credentials");
  ApiResponse apiResponse=resource().path(String.format("/%s/%s/token",orgName,appName)).header("Authorization","Basic " + token).accept(MediaType.APPLICATION_JSON).type(MediaType.APPLICATION_JSON_TYPE).post(ApiResponse.class,payload);
  assertNotNull("It has access_token.",apiResponse.getAccessToken());
  assertNotNull("It has expires_in.",apiResponse.getProperties().get("expires_in"));
}
