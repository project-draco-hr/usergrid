{
  String orgName=clientSetup.getOrganizationName().toLowerCase();
  String appName=clientSetup.getAppName().toLowerCase();
  Credentials orgCredentials=getOrgCredentials();
  ApiResponse apiResponse=this.app().getResource(false).queryParam("grant_type","client_credentials").queryParam("client_id",orgCredentials.getClientId()).queryParam("client_secret",orgCredentials.getClientSecret()).accept(MediaType.APPLICATION_JSON).type(MediaType.APPLICATION_JSON_TYPE).get(ApiResponse.class);
  assertEquals(apiResponse.getUri(),String.format("http://sometestvalue/%s/%s",orgName,appName));
  Application application=new Application(apiResponse);
  assertEquals(String.format("%s/%s",orgName,appName),application.get("name"));
  apiResponse=this.app().collection("roles").getResource(false).queryParam("grant_type","client_credentials").queryParam("client_id",orgCredentials.getClientId()).queryParam("client_secret",orgCredentials.getClientSecret()).accept(MediaType.APPLICATION_JSON).type(MediaType.APPLICATION_JSON_TYPE).get(ApiResponse.class);
  Collection roles=new Collection(apiResponse);
  assertEquals(3,roles.getNumOfEntities());
}
