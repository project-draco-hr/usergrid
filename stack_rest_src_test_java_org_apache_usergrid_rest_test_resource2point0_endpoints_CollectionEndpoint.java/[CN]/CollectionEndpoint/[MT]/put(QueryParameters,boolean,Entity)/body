{
  String acceptHeader=MediaType.APPLICATION_JSON;
  if (this.acceptHeaders.size() > 0) {
    acceptHeader=StringUtils.join(this.acceptHeaders,',');
  }
  WebResource resource=getResource(useToken);
  addParametersToResource(getResource(),parameters);
  String responseString=resource.type(MediaType.APPLICATION_JSON_TYPE).accept(acceptHeader).post(String.class,entity);
  logger.debug("Response from put: " + responseString);
  ObjectMapper mapper=new ObjectMapper();
  ApiResponse response;
  try {
    response=mapper.readValue(new StringReader(responseString),ApiResponse.class);
  }
 catch (  IOException e) {
    throw new RuntimeException("Error parsing response",e);
  }
  return response;
}
