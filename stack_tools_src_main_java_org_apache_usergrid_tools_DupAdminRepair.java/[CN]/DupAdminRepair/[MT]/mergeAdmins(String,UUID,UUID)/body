{
  EntityManager em=emf.getEntityManager(emf.getManagementAppId());
  User sourceUser=em.get(sourceId,User.class);
  if (sourceUser == null) {
    logger.warn("Source admin with uuid {} does not exist in cassandra",sourceId);
    return;
  }
  UserInfo targetUserInfo=managementService.getAdminUserByUuid(targetId);
  @SuppressWarnings("unchecked") Map<String,Map<String,UUID>> sourceOrgs=(Map<String,Map<String,UUID>>)managementService.getAdminUserOrganizationData(sourceId).get("organizations");
  for (  String orgName : sourceOrgs.keySet()) {
    UUID orgId=sourceOrgs.get(orgName).get("uuid");
    OrganizationInfo org=managementService.getOrganizationByUuid(orgId);
    logger.info("Adding organization {} to admin with email {} and id {}",new Object[]{org.getName(),sourceUser.getEmail(),sourceUser.getUuid()});
    managementService.addAdminUserToOrganization(targetUserInfo,org,false);
  }
  logger.info("Deleting admin with email {} and id {}",sourceUser.getEmail(),sourceUser.getUuid());
  em.delete(sourceUser);
}
