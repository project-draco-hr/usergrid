{
  if (source == null) {
    return false;
  }
  if (currentIterator != null && currentIterator.hasNext()) {
    return true;
  }
  while (source.hasNext()) {
    Object next=source.next();
    Results r;
    EntityRef ref=(EntityRef)next;
    r=getResultsFor(ref);
    if (r.size() > 0) {
      currentIterator=new PagingResultsIterator(r,query.getResultsLevel());
      return currentIterator.hasNext();
    }
  }
  currentIterator=null;
  source=null;
  return false;
}
