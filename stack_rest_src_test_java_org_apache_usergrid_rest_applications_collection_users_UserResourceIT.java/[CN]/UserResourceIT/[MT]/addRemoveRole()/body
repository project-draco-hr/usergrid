{
  UUID id=UUIDUtils.newTimeUUID();
  String roleName="rolename" + id;
  String username="username" + id;
  String name="name" + id;
  String email="email" + id + "@usergrid.org";
  User user=new User(username,name,email,"password");
  user=new User(usersResource.post(user));
  UUID createdId=user.getUuid();
  Entity role=new Entity().chainPut("title",roleName).chainPut("name",roleName);
  this.app().collection("roles").post(role);
  refreshIndex();
  role=usersResource.entity(createdId).collection("roles").entity(roleName).post();
  refreshIndex();
  assertNotNull(role);
  assertNotNull(role.get("name"));
  assertEquals(role.get("name").toString(),roleName);
  role=usersResource.entity(createdId).collection("roles").entity(roleName).get();
  assertNotNull(role);
  assertNotNull(role.get("name"));
  assertEquals(role.get("name").toString(),roleName);
  ApiResponse response=usersResource.entity(createdId).collection("roles").entity(roleName).delete();
  role=usersResource.entity(createdId).collection("roles").entity(roleName).get();
  assertNull(role);
}
