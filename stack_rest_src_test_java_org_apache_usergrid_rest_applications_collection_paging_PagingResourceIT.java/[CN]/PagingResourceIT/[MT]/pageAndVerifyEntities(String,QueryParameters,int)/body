{
  Collection testCollections=this.app().collection(collectionName).get(queryParameters);
  int index=0;
  for (int i=0; i < numOfPages; i++) {
    while (testCollections.hasNext()) {
      Entity returnedEntity=testCollections.next();
      assertEquals(String.valueOf(index++),returnedEntity.get("name"));
    }
    testCollections=this.app().collection(collectionName).getNextPage(testCollections,queryParameters,true);
  }
  assertNull(testCollections.getCursor());
  return testCollections;
}
