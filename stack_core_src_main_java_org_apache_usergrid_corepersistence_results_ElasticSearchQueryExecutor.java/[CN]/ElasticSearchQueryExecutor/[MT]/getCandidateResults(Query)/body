{
  final Optional<Integer> cursor=query.getOffset();
  final String queryToExecute=query.getQl().or("select *");
  if (cursor.isPresent()) {
    return entityIndex.search(indexScope,types,queryToExecute,query.getLimit());
  }
  return entityIndex.search(indexScope,types,queryToExecute,query.getLimit(),cursor.get());
}
