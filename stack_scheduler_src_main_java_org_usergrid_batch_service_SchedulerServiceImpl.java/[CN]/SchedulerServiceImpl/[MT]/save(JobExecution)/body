{
  JobData data=bulkJobExecution.getJobData();
  JobStat stat=bulkJobExecution.getJobStats();
  Status jobStatus=bulkJobExecution.getStatus();
  try {
    if (jobStatus == Status.COMPLETED) {
      qm.deleteTransaction(jobQueueName,bulkJobExecution.getTransactionId(),null);
      em.delete(data);
    }
 else     if (jobStatus == Status.DEAD) {
      qm.deleteTransaction(jobQueueName,bulkJobExecution.getTransactionId(),null);
      em.update(data);
    }
 else {
      em.update(data);
    }
    em.update(stat);
  }
 catch (  Exception e) {
    throw new JobRuntimeException(String.format("Unable to delete job data with id %s",data.getUuid()),e);
  }
}
