{
  int cryptIterations=2 ^ 4;
  BcryptCommand command=new BcryptCommand();
  command.setDefaultIterations(cryptIterations);
  String baseString="I am a test password for hashing";
  CredentialsInfo info=new CredentialsInfo();
  User user=new User();
  UUID applicationId=UUID.randomUUID();
  byte[] result=command.hash(baseString.getBytes("UTF-8"),info,user,applicationId);
  info.setSecret("I'm a junk secret that's not bcrypted");
  byte[] authed=command.auth(baseString.getBytes("UTF-8"),info,user,applicationId);
  assertArrayEquals(result,authed);
}
