{
  long endTime=System.currentTimeMillis() + time.toMillis(timeout);
  for (int attempt=0; System.currentTimeMillis() <= endTime; attempt++) {
    try {
      if (this.zkLock.tryAcquire()) {
        locks.incrementAndGet();
        return true;
      }
      Thread.sleep(NetworkAlgorithms.getBinaryBackoffDelay(attempt,MIN_RETRY_DELAY,MAX_RETRY_DELAY));
    }
 catch (    ZkCagesException e) {
      throw new UGLockException("Unable to obtain lock",e);
    }
catch (    InterruptedException e) {
      throw new UGLockException("Unable to obtain lock",e);
    }
  }
  return false;
}
