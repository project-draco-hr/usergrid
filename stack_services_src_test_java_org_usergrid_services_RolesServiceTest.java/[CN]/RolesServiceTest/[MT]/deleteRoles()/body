{
  UUID applicationId=createApplication("testOrganization","deleteRoles");
  assertNotNull(applicationId);
  createAndTestRoles(applicationId,ServiceAction.PUT,"manager","Manager Title",600000l);
  createAndTestPermission(applicationId,ServiceAction.PUT,"manager","access:/**");
  createAndTestPermission(applicationId,ServiceAction.PUT,"manager","access:/places/**");
  createAndTestPermission(applicationId,ServiceAction.PUT,"manager","access:/faces/names/**");
  ServiceManager sm=smf.getServiceManager(applicationId);
  assertNotNull(sm);
  EntityManager em=sm.getEntityManager();
  assertNotNull(em);
  ServiceResults results=invokeService(sm,ServiceAction.DELETE,null,"roles","manager");
  assertEquals(1,results.size());
  Role role=em.get(em.getAlias("role","manager"),Role.class);
  assertNull(role);
  Set<String> permissions=em.getRolePermissions("manager");
  assertEquals(0,permissions.size());
}
