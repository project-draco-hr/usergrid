{
  ActionBar actionBar=activity.getSupportActionBar();
  if (actionBar != null) {
    actionBar.setDisplayOptions(ActionBar.DISPLAY_SHOW_CUSTOM);
    View actionBarView=View.inflate(activity,R.layout.action_bar_layout,null);
    TextView actionBarTitleText=(TextView)actionBarView.findViewById(R.id.actionBarTitle);
    actionBarTitleText.setText(title);
    if (rightButtonTitle != null) {
      TextView rightTextView=(TextView)actionBarView.findViewById(R.id.buttonTitle);
      rightTextView.setText(rightButtonTitle);
      rightTextView.setOnClickListener(rightButtonOnClick);
    }
    final ActionBar.LayoutParams params=new ActionBar.LayoutParams(ActionBar.LayoutParams.WRAP_CONTENT,ActionBar.LayoutParams.MATCH_PARENT,Gravity.CENTER);
    actionBar.setCustomView(actionBarView,params);
  }
}
