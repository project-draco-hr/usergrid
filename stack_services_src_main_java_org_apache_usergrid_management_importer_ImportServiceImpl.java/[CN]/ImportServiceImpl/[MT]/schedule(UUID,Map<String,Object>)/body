{
  Preconditions.checkNotNull(config,"import information cannot be null");
  Preconditions.checkNotNull(application,"application cannot be null");
  final EntityManager rootEm;
  try {
    rootEm=emf.getEntityManager(emf.getManagementAppId());
  }
 catch (  Exception e) {
    logger.error("application doesn't exist within the current context");
    return null;
  }
  Import importUG=new Import();
  importUG.setState(Import.State.CREATED);
  try {
    importUG=rootEm.create(importUG);
  }
 catch (  Exception e) {
    logger.error("Import entity creation failed");
    return null;
  }
  JobData jobData=new JobData();
  jobData.setProperty("importInfo",config);
  jobData.setProperty(IMPORT_ID,importUG.getUuid());
  long soonestPossible=System.currentTimeMillis() + 250;
  sch.createJob(IMPORT_JOB_NAME,soonestPossible,jobData);
  importUG.setState(Import.State.SCHEDULED);
  rootEm.update(importUG);
  final EntityRef source=getApplicationEntity(rootEm,application);
  rootEm.createConnection(source,APP_IMPORT_CONNECTION,importUG);
  return importUG;
}
