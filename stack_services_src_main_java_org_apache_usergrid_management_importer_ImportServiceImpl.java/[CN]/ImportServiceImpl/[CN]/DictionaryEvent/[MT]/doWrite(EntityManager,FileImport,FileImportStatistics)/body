{
  EntityManager rootEm=emf.getEntityManager(CpNamingUtils.MANAGEMENT_APPLICATION_ID);
  try {
    logger.debug("Adding map to {}:{} dictionary {}",new Object[]{ownerEntityRef.getType(),ownerEntityRef.getType(),dictionaryName});
    em.addMapToDictionary(ownerEntityRef,dictionaryName,dictionary);
  }
 catch (  Exception e) {
    logger.error("Error writing dictionary",e);
    fileImport.setErrorMessage(e.getMessage());
    try {
      rootEm.update(fileImport);
    }
 catch (    Exception ex) {
      logger.error("Error updating file import report with error message: " + fileImport.getErrorMessage(),ex);
    }
  }
}
