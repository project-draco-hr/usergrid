{
  boolean result=false;
  Log.v(TAG,"execute: action=" + action);
  if (REGISTER.equals(action)) {
    Log.v(TAG,"execute: data=" + data.toString());
    try {
      JSONObject jo=data.getJSONObject(0);
      gWebView=this.webView;
      Log.v(TAG,"execute: jo=" + jo.toString());
      gECB=(String)jo.get("ecb");
      gSenderID=(String)jo.get("senderID");
      Log.v(TAG,"execute: ECB=" + gECB + " senderID="+ gSenderID);
      GCMRegistrar.register(getApplicationContext(),gSenderID);
      result=true;
    }
 catch (    JSONException e) {
      Log.e(TAG,"execute: Got JSON Exception " + e.getMessage());
      result=false;
    }
    if (gCachedExtras != null) {
      Log.v(TAG,"sending cached extras");
      sendExtras(gCachedExtras);
      gCachedExtras=null;
    }
  }
 else   if (UNREGISTER.equals(action)) {
    GCMRegistrar.unregister(getApplicationContext());
    Log.v(TAG,"UNREGISTER");
    result=true;
  }
 else {
    result=false;
    Log.e(TAG,"Invalid action : " + action);
  }
  return result;
}
