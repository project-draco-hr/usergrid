{
  ValidationUtils.validateApplicationScope(scope);
  GraphValidation.validateDirectedEdgeMeta(directedEdgeMeta);
  final CacheKey key=new CacheKey(scope,directedEdgeMeta);
  CacheEntry entry;
  final Iterator<ShardEntryGroup> edges=nodeShardAllocation.getShards(key.scope,Optional.<Shard>absent(),key.directedEdgeMeta);
  final CacheEntry cacheEntry=new CacheEntry(edges);
  Iterator<ShardEntryGroup> iterator=cacheEntry.getShards(maxTimestamp);
  if (iterator == null) {
    return Collections.<ShardEntryGroup>emptyList().iterator();
  }
  return iterator;
}
