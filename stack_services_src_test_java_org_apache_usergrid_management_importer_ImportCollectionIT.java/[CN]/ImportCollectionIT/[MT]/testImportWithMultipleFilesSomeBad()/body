{
  deleteBucket();
  List<String> filenames=new ArrayList<>(3);
  filenames.add("testImport.testCollection.1.json");
  filenames.add("testImport.testApplication.2.json");
  filenames.add("testImportInvalidJson.testApplication.3.json");
  S3Upload s3Upload=new S3Upload();
  s3Upload.copyToS3(System.getProperty(SDKGlobalConfiguration.ACCESS_KEY_ENV_VAR),System.getProperty(SDKGlobalConfiguration.SECRET_KEY_ENV_VAR),bucketName,filenames);
  final EntityManager emDefaultApp=setup.getEmf().getEntityManager(applicationId);
  importCollection(emDefaultApp,"things");
  List<Entity> importedThings=emDefaultApp.getCollection(emDefaultApp.getApplicationId(),"things",null,Level.ALL_PROPERTIES).getEntities();
  assertTrue(!importedThings.isEmpty());
  assertEquals(7,importedThings.size());
}
