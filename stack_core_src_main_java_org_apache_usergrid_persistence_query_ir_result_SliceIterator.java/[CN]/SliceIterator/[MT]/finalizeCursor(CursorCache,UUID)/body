{
  final int sliceHash=slice.hashCode();
  ByteBuffer bytes=null;
  ScanColumn col=cols.get(lastLoaded);
  if (col != null) {
    bytes=col.getCursorValue();
  }
 else {
    if (scanner.hasNext()) {
      logger.error("An iterator attempted to access a slice that was not iterated over.  This will result in the" + " cursor construction failing");
      throw new QueryIterationException("An iterator attempted to access a slice that was not iterated over.  This will result in the" + " cursor construction failing");
    }
    final ByteBuffer sliceCursor=slice.getCursor();
    if (last == null && sliceCursor != null) {
      bytes=sliceCursor;
    }
 else     if (last != null) {
      bytes=last.getCursorValue();
    }
  }
  if (bytes == null) {
    return;
  }
  cache.setNextCursor(sliceHash,bytes);
}
