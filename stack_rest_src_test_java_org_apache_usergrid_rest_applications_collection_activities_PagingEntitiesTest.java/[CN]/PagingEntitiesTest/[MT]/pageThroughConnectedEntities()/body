{
  CustomCollection activities=context.collection("activities");
  long created=0;
  int maxSize=1500;
  long[] verifyCreated=new long[maxSize];
  Map actor=hashMap("displayName","Erin");
  Map props=new HashMap();
  props.put("actor",actor);
  props.put("verb","go");
  for (int i=0; i < maxSize; i++) {
    props.put("ordinal",i);
    JsonNode activity=activities.create(props);
    verifyCreated[i]=activity.findValue("created").longValue();
    if (i == 0) {
      created=activity.findValue("created").longValue();
    }
  }
  ArrayUtils.reverse(verifyCreated);
  refreshIndex(context.getOrgName(),context.getAppName());
  String query="select * where created >= " + created;
  JsonNode node=activities.query(query,"limit","2");
  int index=0;
  while (node.get("entities").get("created") != null) {
    assertEquals(2,node.get("entities").size());
    if (node.get("cursor") != null) {
      node=activities.query(query,"cursor",node.get("cursor").toString());
    }
 else {
      break;
    }
  }
}
