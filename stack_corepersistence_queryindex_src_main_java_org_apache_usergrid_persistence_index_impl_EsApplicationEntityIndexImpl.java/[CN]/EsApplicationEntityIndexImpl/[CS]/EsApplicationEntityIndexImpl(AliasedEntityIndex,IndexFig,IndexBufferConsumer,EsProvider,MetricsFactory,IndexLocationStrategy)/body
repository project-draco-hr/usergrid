{
  this.entityIndex=entityIndex;
  this.indexBatchBufferProducer=indexBatchBufferProducer;
  this.indexIdentifier=indexLocationStrategy.getIndexIdentifier();
  this.failureMonitor=new FailureMonitorImpl(config,provider);
  this.esProvider=provider;
  this.searchTimer=metricsFactory.getTimer(EsApplicationEntityIndexImpl.class,"search.timer");
  this.cursorTimeout=config.getQueryCursorTimeout();
  this.queryTimeout=config.getWriteTimeout();
  this.deleteApplicationTimer=metricsFactory.getTimer(EsApplicationEntityIndexImpl.class,"delete.application");
  this.deleteApplicationMeter=metricsFactory.getMeter(EsApplicationEntityIndexImpl.class,"delete.application.meter");
  this.alias=indexIdentifier.getAlias();
  this.applicationScope=indexLocationStrategy.getApplicationScope();
  this.searchRequest=new SearchRequestBuilderStrategy(esProvider,applicationScope,alias,cursorTimeout);
  this.searchRequestBuilderStrategyV2=new SearchRequestBuilderStrategyV2(esProvider,applicationScope,alias,cursorTimeout);
}
