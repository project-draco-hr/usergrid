def list_collections(self):
    url = app_url_template.format(app_id=self.app_id, **self.client.url_data)
    r = self.client.get(url)
    if (r.status_code == 200):
        api_response = r.json()
        collection_list = api_response.get('entities')[0].get('metadata', {}).get('collections', {})
        collections = {}
        for collection_name in collection_list:
            collections[collection_name] = UsergridCollection(self.client.org_id, self.app_id, collection_name, self.client)
        return collections
    else:
        raise UsergridError(message='Unable to post to list collections', status_code=r.status_code, api_response=r, url=url)
