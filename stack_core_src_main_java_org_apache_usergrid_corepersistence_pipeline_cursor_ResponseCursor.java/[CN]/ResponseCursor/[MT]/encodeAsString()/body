{
  try {
    if (cursors.isEmpty()) {
      return Optional.absent();
    }
    final ObjectNode map=MAPPER.createObjectNode();
    for (    Map.Entry<Integer,CursorEntry<?>> entry : cursors.entrySet()) {
      final CursorEntry cursorEntry=entry.getValue();
      final JsonNode serialized=cursorEntry.serializer.toNode(MAPPER,cursorEntry.cursor);
      map.put(entry.getKey().toString(),serialized);
    }
    final byte[] output=MAPPER.writeValueAsBytes(map);
    final String value=Base64.getUrlEncoder().encodeToString(output);
    return Optional.of(value);
  }
 catch (  JsonProcessingException e) {
    throw new CursorParseException("Unable to serialize cursor",e);
  }
}
