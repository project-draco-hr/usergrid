{
  final List<String> buckets=indexBucketLocator.getBuckets(applicationId,IndexBucketLocator.IndexType.CONNECTION,collectionName);
  final List<SearchVisitor> visitors=new ArrayList<SearchVisitor>(buckets.size());
  for (  final String bucket : buckets) {
    final SearchVisitor searchVisitor=new SearchCollectionVisitor(cassandraService,indexBucketLocator,queryProcessor,applicationId,headEntity,bucket);
    visitors.add(searchVisitor);
  }
  return visitors;
}
