{
  Collection<NetworkListener> listeners=httpServer.getListeners();
  for (  NetworkListener listener : listeners) {
    try {
      listener.stop();
    }
 catch (    IOException e) {
      e.printStackTrace();
    }
  }
  if (httpServer != null) {
    httpServer.stop();
    httpServer=null;
  }
  if (embeddedCassandra != null) {
    stopCassandra();
    embeddedCassandra=null;
  }
  if (ctx instanceof XmlWebApplicationContext) {
    ((XmlWebApplicationContext)ctx).close();
  }
}
