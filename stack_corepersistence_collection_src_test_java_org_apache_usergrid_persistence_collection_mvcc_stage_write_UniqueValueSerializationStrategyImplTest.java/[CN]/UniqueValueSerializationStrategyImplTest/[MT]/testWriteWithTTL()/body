{
  CollectionScope scope=new CollectionScopeImpl(new SimpleId("organization"),new SimpleId("test"),"test");
  IntegerField field=new IntegerField("count",5);
  Id entityId=new SimpleId(UUIDGenerator.newTimeUUID(),"entity");
  UUID version=UUIDGenerator.newTimeUUID();
  UniqueValue stored=new UniqueValueImpl(scope,field,entityId,version);
  strategy.write(stored,2).execute();
  Thread.sleep(1000);
  UniqueValueSet fields=strategy.load(scope,Collections.<Field>singleton(field));
  UniqueValue retrieved=fields.getValue(field.getName());
  Assert.assertNotNull(retrieved);
  Assert.assertEquals(stored,retrieved);
  Thread.sleep(1500);
  fields=strategy.load(scope,Collections.<Field>singleton(field));
  UniqueValue nullExpected=fields.getValue(field.getName());
  Assert.assertNull(nullExpected);
}
