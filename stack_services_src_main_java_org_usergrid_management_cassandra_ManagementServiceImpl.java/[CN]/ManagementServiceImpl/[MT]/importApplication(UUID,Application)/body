{
  OrganizationInfo organization=getOrganizationByUuid(organizationId);
  UUID applicationId=emf.importApplication(organization.getName(),application.getUuid(),application.getName(),application.getProperties());
  EntityManager em=emf.getEntityManager(MANAGEMENT_APPLICATION_ID);
  properties.put("name",buildAppName(application.getName(),organization));
  Entity app=em.create(applicationId,APPLICATION_INFO,application.getProperties());
  Map<String,CredentialsInfo> credentials=new HashMap<String,CredentialsInfo>();
  credentials.put("secret",CredentialsInfo.plainTextCredentials(generateOAuthSecretKey(AuthPrincipalType.APPLICATION)));
  em.addMapToDictionary(app,DICTIONARY_CREDENTIALS,credentials);
  addApplicationToOrganization(organizationId,applicationId);
  return applicationId;
}
