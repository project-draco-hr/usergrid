{
  EdgeManager em=emf.createEdgeManager(scope);
  Edge edge=createRealEdge("source","test","target");
  em.writeEdge(edge);
  SearchByEdgeType search=createSearchByEdge(edge.getTargetNode(),edge.getType(),edge.getVersion(),null);
  Observable<Edge> edges=em.loadSourceEdges(search);
  Edge returned=edges.toBlockingObservable().single();
  assertEquals("Correct edge returned",edge,returned);
  SearchByIdType searchById=createSearchByEdgeAndId(edge.getTargetNode(),edge.getType(),edge.getVersion(),edge.getSourceNode().getType(),null);
  edges=em.loadSourceEdges(searchById);
  returned=edges.toBlockingObservable().single();
  assertEquals("Correct edge returned",edge,returned);
  em.deleteEdge(edge);
  edges=em.loadTargetEdges(search);
  returned=edges.toBlockingObservable().singleOrDefault(null);
  assertNull("No edge returned",returned);
  edges=em.loadTargetEdges(searchById);
  returned=edges.toBlockingObservable().singleOrDefault(null);
  assertNull("No edge returned",returned);
}
