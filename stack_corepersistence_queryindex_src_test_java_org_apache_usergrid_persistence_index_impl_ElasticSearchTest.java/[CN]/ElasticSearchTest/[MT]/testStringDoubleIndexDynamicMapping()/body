{
  Client client=es.getClient();
  AdminClient admin=client.admin();
  String index=RandomStringUtils.randomAlphanumeric(20).toLowerCase();
  String type="testtype";
  admin.indices().prepareCreate(index).execute().actionGet();
  XContentBuilder mxcb=EsEntityIndexImpl.createDoubleStringIndexMapping(jsonBuilder(),type);
  PutMappingResponse pmr=admin.indices().preparePutMapping(index).setType(type).setSource(mxcb).execute().actionGet();
  indexSampleData(type,client,index);
  testQuery(client,index,type,QueryBuilders.termQuery("name","Orr Byers"),1);
  testQuery(client,index,type,QueryBuilders.termQuery("name","orr byers"),0);
  testQuery(client,index,type,QueryBuilders.termQuery("name","Byers"),0);
  testQuery(client,index,type,QueryBuilders.matchQuery("name_ug_analyzed","Byers"),1);
  testQuery(client,index,type,QueryBuilders.termQuery("company","Geologix"),1);
  testQuery(client,index,type,QueryBuilders.rangeQuery("company").gt("Geologix"),2);
  testQuery(client,index,type,QueryBuilders.termQuery("gender","female"),3);
  testQuery(client,index,type,QueryBuilders.termQuery("contact.email","orrbyers@bittor.com"),1);
}
