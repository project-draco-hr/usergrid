{
  EntityManager em=getEntityManager(CpNamingUtils.MANAGEMENT_APPLICATION_ID);
  Entity appToRestore=em.get(new SimpleEntityRef(CpNamingUtils.DELETED_APPLICATION_INFO,applicationId));
  if (appToRestore == null) {
    throw new EntityNotFoundException("Cannot restore. Deleted Application not found: " + applicationId);
  }
  em.delete(appToRestore);
  em.create(appToRestore.getUuid(),CpNamingUtils.APPLICATION_INFO,appToRestore.getProperties());
  em.refreshIndex();
  this.rebuildApplicationIndexes(applicationId,new ProgressObserver(){
    @Override public void onProgress(    EntityRef entity){
      logger.info("Restored oldAppInfo {}:{}",entity.getType(),entity.getUuid());
    }
  }
);
}
