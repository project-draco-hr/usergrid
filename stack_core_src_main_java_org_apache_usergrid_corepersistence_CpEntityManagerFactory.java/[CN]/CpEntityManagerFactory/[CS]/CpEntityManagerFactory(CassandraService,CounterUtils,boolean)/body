{
  this.cass=cass;
  this.counterUtils=counterUtils;
  this.skipAggregateCounters=skipAggregateCounters;
  if (skipAggregateCounters) {
    logger.warn("NOTE: Counters have been disabled by configuration...");
  }
  try {
    EntityManager em=getEntityManager(SYSTEM_APP_ID);
    Results orgs=em.searchCollection(em.getApplicationRef(),"organizations",null);
    if (orgs.isEmpty()) {
      populateSystemAppsFromEs();
      populateSystemOrgsFromEs();
      populateSystemPropsFromEs();
    }
  }
 catch (  Exception ex) {
    throw new RuntimeException("Fatal error migrating data",ex);
  }
}
