{
  KeyspaceDefinition keyspaceDefinition=null;
  try {
    keyspaceDefinition=keyspace.describeKeyspace();
  }
 catch (  NotFoundException nfe) {
    logger.info("Received a NotFoundException when attempting to describe keyspace.  It does not exist");
  }
catch (  Exception e) {
    AstayanxUtils.isKeyspaceMissing("Unable to connect to cassandra",e);
  }
  if (keyspaceDefinition != null) {
    return;
  }
  ImmutableMap.Builder<String,Object> strategyOptions=getKeySpaceProps();
  ImmutableMap<String,Object> options=ImmutableMap.<String,Object>builder().put("strategy_class",fig.getStrategyClass()).put("strategy_options",strategyOptions.build()).build();
  keyspace.createKeyspace(options);
  strategyOptions.toString();
  logger.info("Created keyspace {} with options {}",keyspace.getKeyspaceName(),options.toString());
  waitForMigration();
}
