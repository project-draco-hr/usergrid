{
  invocationCounter.inc();
  final TimerContext context=addTimer.time();
  batch.add(count);
synchronized (batch) {
    boolean wasSubmitted=maybeSubmit(batch);
    if (wasSubmitted) {
      batch.clear();
    }
  }
  context.stop();
}
