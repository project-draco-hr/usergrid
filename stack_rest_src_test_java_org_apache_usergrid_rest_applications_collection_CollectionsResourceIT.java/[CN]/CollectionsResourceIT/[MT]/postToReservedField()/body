{
  Entity testEntity=new Entity();
  testEntity.put("one","12/31/9999");
  testEntity.put("two","2015-04-20T17:41:38.035Z");
  Entity returnedEntity=this.app().collection("testCollection").post(testEntity);
  ArrayList<String> indexingArray=new ArrayList<>();
  indexingArray.add("one");
  Entity payload=new Entity();
  payload.put("fields",indexingArray);
  this.app().collection("testCollection").collection("_indexes").post(payload);
  refreshIndex();
  Collection collection=this.app().collection("testCollection").collection("_index").get();
  Entity testCollectionSchema=(Entity)collection.getResponse().getEntity();
  assertEquals("lastUpdated",testCollectionSchema.get("lastUpdated"));
  assertEquals("lastUpdatedBy",testCollectionSchema.get("lastUpdatedBy"));
  assertEquals("lastReindex",testCollectionSchema.get("lastReindex"));
  ArrayList<String> schema=(ArrayList<String>)testCollectionSchema.get("fields");
  assertEquals("one",schema.get(0));
  this.app().collection("testCollection").collection("_reindex").post();
  refreshIndex();
  Entity reindexedEntity=this.app().collection("testCollection").entity(returnedEntity.getUuid()).get();
  assertEquals("12/31/9999",reindexedEntity.get("one"));
  assertNull(reindexedEntity.get("two"));
}
