{
  if (sqs == null) {
    logger.error("Sqs is null");
    return;
  }
  String url=getQueue().getUrl();
  if (logger.isDebugEnabled())   logger.debug("Sending Messages...{} to {}",bodies.size(),url);
  SendMessageBatchRequest request=new SendMessageBatchRequest(url);
  List<SendMessageBatchRequestEntry> entries=new ArrayList<>(bodies.size());
  for (  Object body : bodies) {
    SendMessageBatchRequestEntry entry=new SendMessageBatchRequestEntry();
    entry.setId(UUID.randomUUID().toString());
    entry.setMessageBody(toString(body));
    entry.addMessageAttributesEntry("type",new MessageAttributeValue().withStringValue("mytype"));
    entries.add(entry);
  }
  request.setEntries(entries);
  sqs.sendMessageBatch(request);
}
