{
  this.scope=scope;
  try {
    UsergridAwsCredentialsProvider ugProvider=new UsergridAwsCredentialsProvider();
    this.sqs=new AmazonSQSClient(ugProvider.getCredentials());
    Regions regions=Regions.fromName(fig.getRegion());
    Region region=Region.getRegion(regions);
    sqs.setRegion(region);
    smileFactory.delegateToTextual(true);
    mapper=new ObjectMapper(smileFactory);
    mapper.enableDefaultTypingAsProperty(ObjectMapper.DefaultTyping.JAVA_LANG_OBJECT,"@class");
  }
 catch (  Exception e) {
    throw new RuntimeException("Error setting up mapper",e);
  }
}
