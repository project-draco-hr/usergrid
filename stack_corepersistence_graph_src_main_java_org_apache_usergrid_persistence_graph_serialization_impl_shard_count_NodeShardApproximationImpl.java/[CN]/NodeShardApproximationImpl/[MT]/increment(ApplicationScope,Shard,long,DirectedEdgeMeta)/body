{
  final ShardKey key=new ShardKey(scope,shard,directedEdgeMeta);
  readLock.lock();
  try {
    currentCounter.add(key,count);
  }
  finally {
    readLock.unlock();
  }
  checkFlush();
}
