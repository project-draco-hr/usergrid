{
  int gravity;
  int drawableResourceId;
  if (!isMe) {
    gravity=Gravity.END;
    drawableResourceId=R.drawable.in_message_bg;
  }
 else {
    gravity=Gravity.START;
    drawableResourceId=R.drawable.out_message_bg;
  }
  holder.contentWithBG.setBackgroundResource(drawableResourceId);
  LinearLayout.LayoutParams layoutParams=(LinearLayout.LayoutParams)holder.contentWithBG.getLayoutParams();
  layoutParams.gravity=gravity;
  holder.contentWithBG.setLayoutParams(layoutParams);
  RelativeLayout.LayoutParams lp=(RelativeLayout.LayoutParams)holder.content.getLayoutParams();
  if (!isMe) {
    lp.addRule(RelativeLayout.ALIGN_PARENT_LEFT,0);
    lp.addRule(RelativeLayout.ALIGN_PARENT_RIGHT);
  }
 else {
    lp.addRule(RelativeLayout.ALIGN_PARENT_RIGHT,0);
    lp.addRule(RelativeLayout.ALIGN_PARENT_LEFT);
  }
  holder.content.setLayoutParams(lp);
  layoutParams=(LinearLayout.LayoutParams)holder.txtMessage.getLayoutParams();
  layoutParams.gravity=gravity;
  holder.txtMessage.setLayoutParams(layoutParams);
  layoutParams=(LinearLayout.LayoutParams)holder.txtInfo.getLayoutParams();
  layoutParams.gravity=gravity;
  holder.txtInfo.setLayoutParams(layoutParams);
}
