{
  observer.start();
  final int legacyVersion=migrationInfoSerialization.getSystemVersion();
switch (legacyVersion) {
case INITIAL:
case ENTITY_V2_MIGRATION:
    migrationInfoSerialization.setVersion(CollectionMigrationPlugin.PLUGIN_NAME,serializationStrategyV2.getImplementationVersion());
case EDGE_SHARD_MIGRATION:
  migrationInfoSerialization.setVersion(GraphMigrationPlugin.PLUGIN_NAME,edgeMetadataSerializationV2.getImplementationVersion());
case ID_MIGRATION:
migrationInfoSerialization.setVersion(CoreMigrationPlugin.PLUGIN_NAME,CoreDataVersions.ID_MAP_FIX.getVersion());
case APPINFO_MIGRATION:
migrationInfoSerialization.setVersion(AppInfoMigrationPlugin.PLUGIN_NAME,AppInfoVersions.APPINFO_FIX.getVersion());
}
migrationInfoSerialization.setVersion(NAME,getMaxVersion());
observer.complete();
}
