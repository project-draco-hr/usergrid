{
  String appId=line.getOptionValue(APPLICATION_ARG);
  Map<String,UUID> ids=emf.getApplications();
  if (appId != null) {
    UUID id=UUIDUtils.tryExtractUUID(appId);
    if (id == null) {
      logger.debug("Got applications: " + ids);
      id=emf.getApplications().get(appId);
    }
    return Collections.singleton(id);
  }
  System.out.println("Printing all apps");
  for (  Entry<String,UUID> entry : ids.entrySet()) {
    System.out.println(entry.getKey() + " appid=" + entry.getValue());
  }
  return ids.values();
}
