{
  String newPassword="foo";
  Map<String,String> data=new HashMap<String,String>();
  data.put("newpassword",newPassword);
  data.put("oldpassword","test");
  JsonNode node=mapper.readTree(resource().path("/management/users/test/password").accept(MediaType.APPLICATION_JSON).type(MediaType.APPLICATION_JSON_TYPE).post(String.class,data));
  assertNull(getError(node));
  refreshIndex("test-organization","test-app");
  adminAccessToken=mgmtToken("test",newPassword);
  data.put("oldpassword",newPassword);
  data.put("newpassword","test");
  node=mapper.readTree(resource().path("/management/users/test/password").queryParam("access_token",adminAccessToken).accept(MediaType.APPLICATION_JSON).type(MediaType.APPLICATION_JSON_TYPE).post(String.class,data));
  assertNull(getError(node));
}
