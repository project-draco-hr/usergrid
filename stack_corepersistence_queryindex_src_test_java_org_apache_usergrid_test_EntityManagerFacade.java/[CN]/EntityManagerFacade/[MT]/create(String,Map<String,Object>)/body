{
  if (!type.equals(scope.getName())) {
    throw new RuntimeException("Incorrect type [" + type + "] for scope: "+ scope.getName());
  }
  Entity entity=new Entity(new SimpleId(UUIDGenerator.newTimeUUID(),scope.getName()));
  entity=EntityMapUtils.mapToEntity(scope.getName(),entity,properties);
  EntityUtils.setVersion(entity,UUIDGenerator.newTimeUUID());
  entity=ecm.write(entity).toBlockingObservable().last();
  index.index(entity);
  return entity;
}
