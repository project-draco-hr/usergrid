{
  if (contextHolder != null) {
    return;
  }
  logger.info("Initing CassandraRunner...");
  System.setProperty("cassandra-foreground","true");
  System.setProperty("log4j.defaultInitOverride","true");
  System.setProperty("log4j.configuration","log4j.properties");
  System.setProperty("cassandra.load_ring_state","false");
  System.setProperty("cassandra.join_ring","false");
  FileUtils.deleteQuietly(new File(TMP));
  contextHolder=new ContextHolder();
  try {
    executor.schedule(contextHolder,3,TimeUnit.SECONDS).get();
  }
 catch (  Exception ex) {
    logger.error("Could not schedule cassandra runner");
  }
  Runtime.getRuntime().addShutdownHook(new Thread(){
    @Override public void run(){
      try {
        logger.error("In shutdownHook");
        stopCassandra();
      }
 catch (      Exception ex) {
        ex.printStackTrace();
      }
    }
  }
);
}
